webpackJsonp([0],[function(k,p,g){function d(a){return a&&a.__esModule?a:{"default":a}}var q=g(1),m=d(q),b=g(5),c=d(b),f=g(12);g(128);var j=new m["default"](c["default"](f.ROOT_VIEW_SELECTOR)[0]);j.start()},function(ar,ae,an){function aj(c){if(c&&c.__esModule){return c}var b={};if(null!=c){for(var a in c){Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a])}}return b["default"]=c,b}function af(a){return a&&a.__esModule?a:{"default":a}}function aw(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(ae,"__esModule",{value:!0});var ag=function(){function a(d,c){for(var b=0;b<c.length;b++){var f=c[b];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),ai=an(2),al=an(3),ao=af(al),ad=an(4),au=af(ad),ax=an(5),at=af(ax),aq=an(6),ac=af(aq),ah=an(8),ak=af(ah),ap=an(9),V=af(ap),Z=an(10),ab=af(Z),am=an(13),av=aj(am),j=an(25),Y=an(31),q=af(Y),X=an(101),K=af(X),z=an(102),G=af(z),B=an(103),N=af(B),aa=an(24),J=an(109),W=af(J),U=an(12),Q=function(){function a(b){aw(this,a),this._elem=b,this._pageContainerElem=at["default"](U.PAGE_WRAPPER_SELECTOR,this._elem)[0],this._scrollWatcher=new ab["default"](this),this._resizeWatcher=new ac["default"](W["default"]),this._animationFrameWatcher=new ak["default"](),this._urlWatcher=new V["default"](this),this._currentPageController=null,this._stickyHeader=null,this._navState=null,this._htmlCache={},this._urlChangeQueue=[],this._isInTransitionLoop=!1,this.wavePromise=null}return ag(a,[{key:"start",value:function(){var d=this;ao["default"].attach(document.body),this._testForTouch(),this._currentPageController=this._setupPage(at["default"](U.PAGE_CONTAINER_SELECTOR,this._pageContainerElem)[0]);var c=at["default"](U.STICKY_HEADER_SELECTOR,this._elem)[0],b=aa.pathFromSlug("home")===window.location.pathname;c&&(this._stickyHeader=new q["default"](this,c),at["default"](U.HIDDEN_CHARACTER_CONTAINER_SELECTOR,c).map(function(e){return new G["default"](d,e)}),this._stickyHeader.transitionHiddenOnHomepage(0,b));var f=at["default"](U.NAV_STATE_SELECTOR,this._elem)[0];f&&setTimeout(function(){d._navState=new K["default"](d,f)},400),b&&av.fadeInHomepage(this._currentPageController,this._stickyHeader),ai.bindAll(this,"_urlChange"),this._urlWatcher.on(ap.URL_CHANGE_EVENT,this._urlChange),this._currentPageController.trigger(B.READY_EVENT)}},{key:"_urlChange",value:function(c,b){this._urlChangeQueue.push({fromURL:b,toURL:c}),this._runTransitions()}},{key:"_runTransitions",value:function(){var d,c,b;return regeneratorRuntime.async(function(e){for(;;){switch(e.prev=e.next){case 0:if(!this._isInTransitionLoop){e.next=2;break}return e.abrupt("return");case 2:this._navState.blurNavItems(),this._isInTransitionLoop=!0,this._pauseWatchers();case 5:if(!(this._urlChangeQueue.length>0)){e.next=13;break}return d=this._urlChangeQueue.shift(),c=d.fromURL,b=d.toURL,e.next=11,this._runTransition(b,c);case 11:e.next=5;break;case 13:this._unpauseWatchers(),this.checkForVisibleElements(),this._isInTransitionLoop=!1;case 16:case"end":return e.stop()}}},null,this)}},{key:"_runTransition",value:function(m,x){var g,d,y,p,b,c,f,k,w,v;return regeneratorRuntime.async(function(e){for(;;){switch(e.prev=e.next){case 0:return g="mobile"===this.currentBreakpoint(),d=this._currentPageController,y=this._currentPageController.rootElem,p=m.replace(window.HTTP_PREFIX,"/"),b=""+window.HTTP_PREFIX+"partials"+p,c=this._htmlCache[b],f=void 0,f=c?Promise.resolve(c):j.getHTML(b),e.next=10,av.animateOut({url:x,controller:d},{url:m},this._stickyHeader,this._navState,g);case 10:return e.next=12,f;case 12:return c=e.sent,this._htmlCache[b]=c,k=document.createElement("div"),k.innerHTML=c,w=k.childNodes[0],av.prepare({url:x,rootNode:y},{url:m,rootNode:w},this._stickyHeader),d.tearDown(),y.parentNode.removeChild(y),this._pageContainerElem.appendChild(w),v=this._setupPage(w),window.scrollTo(0,0),e.next=25,au["default"](200);case 25:return e.next=27,av.run({url:x,controller:d},{url:m,controller:v},this._stickyHeader,this._navState);case 27:return e.next=29,au["default"](10);case 29:return this._currentPageController=v,v.trigger(B.READY_EVENT),e.abrupt("return",Promise.resolve());case 32:case"end":return e.stop()}}},null,this)}},{key:"_setupPage",value:function(c){var b=at["default"](U.SCROLL_ELEMENT_SELECTOR,c)[0];return this._scrollWatcher.changeTargetElement(window),new N["default"](this,c,b)}},{key:"_testForTouch",value:function(){var b="ontouchstart" in window||window.navigator.MaxTouchPoints>0||window.navigator.msMaxTouchPoints>0;b&&document.body.classList.add(U.TOUCH_TEST_CLASSNAME)}},{key:"tearDown",value:function(){this._resizeWatcher.tearDown(),this._resizeWatcher=null,this._scrollWatcher.tearDown(),this._scrollWatcher=null,this._animationFrameWatcher.tearDown(),this._animationFrameWatcher=null,this._urlWatcher.tearDown(),this._urlWatcher=null,this._currentPageController.tearDown(),this._currentPageController=null,this._elem=null,this._currentPage=null}},{key:"_pauseWatchers",value:function(){this._resizeWatcher.pause(),this._scrollWatcher.pause(),this._animationFrameWatcher.pause()}},{key:"_unpauseWatchers",value:function(){this._resizeWatcher.unpause(),this._scrollWatcher.unpause(),this._animationFrameWatcher.unpause()}},{key:"currentViewport",value:function(){return this._resizeWatcher.viewport}},{key:"currentBreakpoint",value:function(){return this._resizeWatcher.breakpoint}},{key:"onFrame",value:function(c){var b=void 0===arguments[1]?!1:arguments[1];this._animationFrameWatcher.on(ah.FRAME_EVENT,c,b)}},{key:"offFrame",value:function(b){this._animationFrameWatcher.off(ah.FRAME_EVENT,b)}},{key:"onResize",value:function(c){var b=void 0===arguments[1]?!1:arguments[1];this._resizeWatcher.on(aq.RESIZE_EVENT,c,b)}},{key:"offResize",value:function(b){this._resizeWatcher.off(aq.RESIZE_EVENT,b)}},{key:"onBreakpoint",value:function(c){var b=void 0===arguments[1]?!1:arguments[1];this._resizeWatcher.on(aq.BREAKPOINT_EVENT,c,b)}},{key:"offBreakpoint",value:function(b){this._resizeWatcher.off(aq.BREAKPOINT_EVENT,b)}},{key:"currentScroll",value:function(){return this._scrollWatcher.scrollY}},{key:"onScrollStart",value:function(c){var b=void 0===arguments[1]?!1:arguments[1];this._scrollWatcher.on(Z.SCROLL_START_EVENT,c,b)}},{key:"offScrollStart",value:function(b){this._scrollWatcher.off(Z.SCROLL_START_EVENT,b)}},{key:"onScroll",value:function(d){var c=void 0===arguments[1]?!1:arguments[1],b=void 0===arguments[2]?!1:arguments[2];c?this._scrollWatcher.on(Z.SCROLL_REALTIME_EVENT,d,b):this._scrollWatcher.on(Z.SCROLL_EVENT,d,b)}},{key:"offScroll",value:function(c){var b=void 0===arguments[1]?!1:arguments[1];b?this._scrollWatcher.off(Z.SCROLL_REALTIME_EVENT,c):this._scrollWatcher.off(Z.SCROLL_EVENT,c)}},{key:"onScrollEnd",value:function(c){var b=void 0===arguments[1]?!1:arguments[1];this._scrollWatcher.on(Z.SCROLL_END_EVENT,c,b)}},{key:"offScrollEnd",value:function(b){this._scrollWatcher.off(Z.SCROLL_END_EVENT,b)}},{key:"checkForVisibleElements",value:function(){this._scrollWatcher.checkForVisibleElements()}},{key:"isVisible",value:function(c){var b=c.getBoundingClientRect();return b.bottom>0&&b.right>0&&b.left<(window.innerWidth||document.documentElement.clientWidth)&&b.top<(window.innerHeight||document.documentElement.clientHeight)}},{key:"trackElement",value:function(d,c,b){this._scrollWatcher.trackElement(d,c,b)}},{key:"untrackElement",value:function(b){this._scrollWatcher.untrackElement(b)}},{key:"startWaveAnimation",value:function(c){this.wavePromise=c;var b=this;this.wavePromise.then(function(){b.wavePromise=null})}}]),a}();ae["default"]=Q,ar.exports=ae["default"]},,,function(c,b){function a(d){return regeneratorRuntime.async(function(e){for(;;){switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(f){return setTimeout(f,d)}));case 1:case"end":return e.stop()}}},null,this)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=a,c.exports=b["default"]},function(c,b){function a(f){var d=void 0===arguments[1]?document:arguments[1];return Array.prototype.slice.call(d.querySelectorAll(f),0)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=a,c.exports=b["default"]},function(p,z,k){function g(a){return a&&a.__esModule?a:{"default":a}}function A(C,E){if(Array.isArray(C)){return C}if(Symbol.iterator in Object(C)){var B=[],h=!0,F=!1,D=void 0;try{for(var c,d=C[Symbol.iterator]();!(h=(c=d.next()).done)&&(B.push(c.value),!E||B.length!==E);h=!0){}}catch(u){F=!0,D=u}finally{try{!h&&d["return"]&&d["return"]()}finally{if(F){throw D}}}return B}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function w(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(z,"__esModule",{value:!0});var b=function(){function a(h,d){for(var c=0;c<d.length;c++){var l=d[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value" in l&&(l.writable=!0),Object.defineProperty(h,l.key,l)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),f=k(2),j=k(7),m=g(j),y="resize";z.RESIZE_EVENT=y;var v="breakpoint";z.BREAKPOINT_EVENT=v;var x=300,q=function(){function a(d,c){w(this,a),c="number"==typeof c?c:x,this._throttledOnResize=f.throttle(this._onResize.bind(this),c),this.viewport=this._getViewportSize(),this._breakpointDefinitions=d,this.breakpoint=this._getCurrentBreakpoint(this.viewport[0]),this._eventsAttached=!1,this._isPaused=!1,this._attachEvents()}return b(a,[{key:"tearDown",value:function(){this._detachEvents(),this.tearDownEventable(),this.viewport=null,this._throttledOnResize=null}},{key:"pause",value:function(){this._isPaused=!0}},{key:"unpause",value:function(){this._isPaused=!1}},{key:"eventableState",value:function(c){return c===y?this.viewport:c===v?this.breakpoint:void 0}},{key:"_onResize",value:function(){if(!this._isPaused){this.viewport=this._getViewportSize();var h=A(this.viewport,2),d=h[0],c=h[1];this.trigger(y,d,c),this._checkBreakpoint(d)}}},{key:"_checkBreakpoint",value:function(h){var d=this.breakpoint,c=this._getCurrentBreakpoint(h);c!==d&&(this.breakpoint=c,this.trigger(v,c,d))}},{key:"_getCurrentBreakpoint",value:function(h){for(var d in this._breakpointDefinitions){if(this._breakpointDefinitions.hasOwnProperty(d)){var c=this._breakpointDefinitions[d];if(h>=c.min&&h<=c.max){return d}}}}},{key:"_getViewportSize",value:function(){return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight]}},{key:"_attachEvents",value:function(){this._eventsAttached||(this._eventsAttached=!0,window.addEventListener(y,this._throttledOnResize))}},{key:"_detachEvents",value:function(){this._eventsAttached&&(this._eventsAttached=!1,window.removeEventListener(y,this._throttledOnResize))}}]),a}();f.extend(q.prototype,m["default"](y,v)),z["default"]=q},function(g,d,c){function h(k){if(Array.isArray(k)){for(var j=0,a=Array(k.length);j<k.length;j++){a[j]=k[j]}return a}return Array.from(k)}function f(){for(var k=arguments.length,j=Array(k),a=0;k>a;a++){j[a]=arguments[a]}return{__getLookup:function(){return this.__lookup||(this.__lookup=j.reduce(function(l,i){return l.set(i,new Set()),l},new Map())),this.__lookup},tearDownEventable:function(){this.__lookup=null},trigger:function(p){for(var m=arguments.length,l=Array(m>1?m-1:0),q=1;m>q;q++){l[q-1]=arguments[q]}var o=this.__getLookup().get(p);o.forEach(function(i){i.apply(void 0,l)})},on:function(p,m){var l=void 0===arguments[2]?!1:arguments[2],n=this.__getLookup().get(p);if(n){if(!m){throw new Error("Cannot attach an event with a function")}if(n.add(m),l){var o=[];"function"==typeof this.eventableState&&(o=this.eventableState(p)||[],b.isArray(o)||(o=[o])),this.trigger.apply(this,[p].concat(h(o)))}}},off:function(n,m){var l=this.__getLookup().get(n);l&&l["delete"](m)}}}Object.defineProperty(d,"__esModule",{value:!0}),d["default"]=f;var b=c(2);g.exports=d["default"]},function(k,q,g){function d(a){return a&&a.__esModule?a:{"default":a}}function v(h,a){if(!(h instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function a(o,l){for(var h=0;h<l.length;h++){var r=l[h];r.enumerable=r.enumerable||!1,r.configurable=!0,"value" in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(h,e,l){return e&&a(h.prototype,e),l&&a(h,l),h}}(),b=g(2),c=g(7),f=d(c),j="frame";q.FRAME_EVENT=j;var p=function(){function a(){v(this,a),this._eventsAttached=!1,this._isPaused=!1,b.bindAll(this,"_onFrame"),this._attachEvents()}return m(a,[{key:"tearDown",value:function(){this._detachEvents(),this.tearDownEventable()}},{key:"pause",value:function(){this._isPaused=!0}},{key:"unpause",value:function(){this._isPaused=!1}},{key:"_onFrame",value:function(h){this._eventsAttached&&requestAnimationFrame(this._onFrame),this._isPaused||this.trigger(j,h)}},{key:"_attachEvents",value:function(){this._eventsAttached||(this._eventsAttached=!0,requestAnimationFrame(this._onFrame))}},{key:"_detachEvents",value:function(){this._eventsAttached&&(this._eventsAttached=!1)}}]),a}();b.extend(p.prototype,f["default"](j)),q["default"]=p},function(p,z,k){function g(a){return a&&a.__esModule?a:{"default":a}}function A(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function w(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}Object.defineProperty(z,"__esModule",{value:!0});var b=function(){function a(h,d){for(var c=0;c<d.length;c++){var l=d[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value" in l&&(l.writable=!0),Object.defineProperty(h,l.key,l)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),f=k(2),j=k(7),m=g(j),y="change";z.URL_CHANGE_EVENT=y;var v="click",x="js-disable-ajax-link",q=function(){function a(c){A(this,a),this._app=c,this._currentURL=window.location.href,this._eventsAttached=!1,f.bindAll(this,"_onPopState","_onClick"),this._attachEvents()}return b(a,[{key:"tearDown",value:function(){this._detachEvents(),this.tearDownEventable()}},{key:"navigate",value:function(d){var c=this._currentURL.replace(w(),"").split("#")[0];return c===d?!1:(this.trigger(y,d,this._currentURL),window.dataLayer.push({event:"history_push_state"}),this._currentURL=d,!0)}},{key:"_onPopState",value:function(){this.navigate(window.location.pathname)}},{key:"_onClick",value:function(l){var d=this;if(!l.metaKey&&!l.ctrlKey){if(window.BLOCK_ALL_LINKS){return l.preventDefault(),void l.stopPropagation()}for(var c=l.target,o=function(){if("a"!==c.localName){return c=c.parentNode,"continue"}if(c.target&&c.target.length>0){return{v:void 0}}if(c.classList.contains(x)){return{v:void 0}}var t=c.href.replace(w(),""),e=new RegExp("^"+window.HTTP_PREFIX);if(!t.match(e)){return{v:void 0}}l.preventDefault(),l.stopPropagation();var i=d._app.wavePromise||Promise.resolve();return i.then(function(){d.navigate(t)&&window.history.pushState({siteReferral:!0,path:t},"",t)}),{v:void 0}};c;){var h=o();switch(h){case"continue":continue;default:if("object"==typeof h){return h.v}}}}}},{key:"_attachEvents",value:function(){this._eventsAttached||(this._eventsAttached=!0,window.addEventListener("popstate",this._onPopState),document.addEventListener(v,this._onClick))}},{key:"_detachEvents",value:function(){this._eventsAttached&&(this._eventsAttached=!1,window.removeEventListener("popstate",this._onPopState),document.removeEventListener(v,this._onClick))}}]),a}();f.extend(q.prototype,m["default"](y)),z["default"]=q},function(O,A,K){function G(a){return a&&a.__esModule?a:{"default":a}}function B(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(A,"__esModule",{value:!0});var R=function(){function a(f,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),C=K(2),F=K(7),I=G(F),L=K(11),x=G(L),Q=K(12),S="scroll";A.SCROLL_EVENT=S;var P="realtime";A.SCROLL_REALTIME_EVENT=P;var N="end";A.SCROLL_END_EVENT=N;var q="start";A.SCROLL_START_EVENT=q;var D="keydown";A.KEYDOWN_EVENT=D;var H="keyup";A.KEYUP_EVENT=H;var M=200,z=100,b=-1!==navigator.userAgent.indexOf("MSIE 10"),j=8,J=function(){function a(d,c,e){B(this,a),this._app=d,c="number"==typeof c?c:M,e="number"==typeof e?e:z,this._throttledOnScroll=C.throttle(this._onScroll.bind(this),e),this._debouncedOnScrollEnd=C.debounce(this._onScrollEnd.bind(this),c),this._scrollParent=null,this._eventsAttached=!1,this.isScrolling=!1,this.scrollY=0,this.initialScrollY=0,this.nextScrollY=0,this._scrollTime=0,this._positionBuffer=[],this._frameBuffer=[],this._isPaused=!1,this._rafRunning=!1,this._trackedElements=new Map(),this._trackedElementsVisiblityOffset=new Map(),C.bindAll(this,"_didScroll","_onFrame","_checkKeyboardScroll")}return R(a,[{key:"changeTargetElement",value:function(c){this._detachEvents(),this._scrollParent=c===window?window:c.parentNode,this._attachEvents(),this.scrollY=0,this.isScrolling=!1,this._didScroll()}},{key:"tearDown",value:function(){this._detachEvents(),this.tearDownEventable(),this._scrollParent=null}},{key:"pause",value:function(){this._isPaused=!0}},{key:"unpause",value:function(){this._isPaused=!1}},{key:"eventableState",value:function(){return this.scrollY}},{key:"_onScroll",value:function(){this._isPaused||this.isScrolling&&this.trigger(S,this.scrollY)}},{key:"_onScrollEnd",value:function(){this._isPaused||this.isScrolling&&(this.checkForVisibleElements(),this.trigger(N,this.scrollY),this.isScrolling=!1)}},{key:"_getScrollPosition",value:function(){return this._scrollParent!==window?this._scrollParent.scrollTop:b&&window.pageYOffset!==document.documentElement.scrollTop?document.documentElement.scrollTop:window.pageYOffset||document.documentElement.scrollTop}},{key:"_didScroll",value:function(){this.nextScrollY=this._getScrollPosition(),this._throttledOnScroll(),this._debouncedOnScrollEnd()}},{key:"_onFrame",value:function(k){if(this._rafRunning&&(requestAnimationFrame(this._onFrame),!this._isPaused)){k=k||x["default"]();var f=this._getScrollPosition();f!==this.scrollY&&(this.isScrolling||(this.scrollY=f,this._scrollTime=k,this._positionBuffer.length=0,this._frameBuffer.length=0,this.trigger(q,f),this.isScrolling=!0));var d=f-this.scrollY,l=k-this._scrollTime;this._positionBuffer.unshift(d/l),this._positionBuffer.length=j,this._frameBuffer.unshift(l),this._frameBuffer.length=j;for(var g=0,c=0;j>c;c++){g+=this._positionBuffer[c]||0}g/=j;for(var h=0,c=0;j>c;c++){h+=this._frameBuffer[c]||0}h/=j,this._scrollTime=k,f!==this.scrollY&&(this.scrollY=f,this.trigger(P,this.scrollY,g*h))}}},{key:"_checkKeyboardScroll",value:function(d){if(9===d.keyCode){if(d.type===D){this.initialScrollY=this._getScrollPosition()}else{if(this.initialScrollY!==this._getScrollPosition()){var c="mobile"===this._app.currentBreakpoint()?Q.MINIMUM_HEADER_HEIGHT_MOBILE:Q.MINIMUM_HEADER_HEIGHT;this._scrollParent.scrollTo(0,this._getScrollPosition()-c),this._onScrollEnd()}}}}},{key:"_isVisible",value:function(f){var d=f.getBoundingClientRect(),c=this._trackedElementsVisiblityOffset.get(f)||0;return d.bottom>0-c&&d.right>0-c&&d.left<(window.innerWidth||document.documentElement.clientWidth)+c&&d.top<(window.innerHeight||document.documentElement.clientHeight)+c}},{key:"checkForVisibleElements",value:function(){var c=this;this._trackedElements.forEach(function(e,d){c._isVisible(d)&&c._handleVisible(d)})}},{key:"untrackElement",value:function(c){this._trackedElements["delete"](c)}},{key:"_handleVisible",value:function(c){this._trackedElements.get(c)(c),this.untrackElement(c)}},{key:"trackElement",value:function(f,d,c){c||(c=0),this._isVisible(f)&&!this._isPaused?d(f):(this._trackedElements.set(f,d),this._trackedElementsVisiblityOffset.set(f,c))}},{key:"_attachEvents",value:function(){this._eventsAttached||(this._eventsAttached=!0,this._scrollParent.addEventListener(S,this._didScroll),this._scrollParent.addEventListener(D,this._checkKeyboardScroll),this._scrollParent.addEventListener(H,this._checkKeyboardScroll),this._rafRunning=!0,requestAnimationFrame(this._onFrame))}},{key:"_detachEvents",value:function(){this._eventsAttached&&(this._eventsAttached=!1,this._scrollParent.removeEventListener(S,this._didScroll),this._scrollParent.removeEventListener(D,this._checkKeyboardScroll),this._scrollParent.removeEventListener(H,this._checkKeyboardScroll),this._rafRunning=!1)}}]),a}();C.extend(J.prototype,I["default"](S,P,q,N)),A["default"]=J},function(c,b){function a(){return +new Date()}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=a,c.exports=b["default"]},function(af,K){Object.defineProperty(K,"__esModule",{value:!0});var ab=".js-page-container";K.PAGE_CONTAINER_SELECTOR=ab;var X=".js-page-wrapper";K.PAGE_WRAPPER_SELECTOR=X;var M=".js-scroll-element";K.SCROLL_ELEMENT_SELECTOR=M;var aj=".js-root-view";K.ROOT_VIEW_SELECTOR=aj;var Q=".js-responsive-image";K.RESPONSIVE_IMAGE_SELECTOR=Q;var W=".js-avoid-orphans";K.AVOID_ORPHANS_SELECTOR=W;var Z=".js-grid-item";K.GRID_ITEM_SELECTOR=Z;var ac=".js-video-trigger";K.VIDEO_SELECTOR=ac;var I=".js-article-video";K.ARTICLE_VIDEO=I;var ah=".js-article-yt-video";K.ARTICLE_YOUTUBE_VIDEO_SELECTOR=ah;var ak=".js-site-header";K.STICKY_HEADER_SELECTOR=ak;var ag=".js-hide-eol-dot";K.HIDDEN_CHARACTER_CONTAINER_SELECTOR=ag;var ae=".js-carousel";K.CAROUSEL_SELECTOR=ae;var H=".js-tabs";K.TABS_SELECTOR=H;var V=".js-scroll-to-target";K.ANIMATE_SCROLL_SELECTOR=V;var Y=".js-search-component";K.SEARCH_COMPONENT_SELECTOR=Y;var ad=".js-share-fab";K.SHARE_FAB_SELECTOR=ad;var J=".js-hover-animation";K.HOVER_ANIMATION_SELECTOR=J;var F=".js-nav-state";K.NAV_STATE_SELECTOR=F;var G="touch";K.TOUCH_TEST_CLASSNAME=G;var aa=".js-quote-tile";K.QUOTE_SELECTOR=aa;var ai=".header-container .js-hover-animation";K.HEADER_HOVER_ANIMATION_SELECTOR=ai;var j="-active";K.STATE_ACTIVE=j;var U="-open";K.STATE_OPEN=U;var q="-inactive";K.STATE_INACTIVE=q;var N="-homepage";K.HOMEPAGE_LOAD_STATE=N;var D=64;K.MINIMUM_HEADER_HEIGHT=D;var x=100;K.MINIMUM_HEADER_HEIGHT_MOBILE=x;var B=256;K.MAXIMUM_HEADER_HEIGHT=B;var z=120;K.SLIDE_EFFECT_Y_OFFSET=z},function(m,x,j){function f(a){return a&&a.__esModule?a:{"default":a}}function y(h,c){h.hideFakeShadow(),h.hideFakeHeader(),g.set(h.rootElem,{opacity:0,y:v.SLIDE_EFFECT_Y_OFFSET});var a=0.8,l=p["default"](v.STICKY_HEADER_SELECTOR,this._elem)[0];return Promise.all([c.animateNewTitle(a),g.to(h.rootElem,a,{y:0,ease:Expo.easeOut}),g.set(h.rootElem,{autoAlpha:1,ease:Expo.easeOut})]).then(function(){return l.classList.remove(v.HOMEPAGE_LOAD_STATE),h.showFakeShadow(),h.showFakeHeader(),Promise.resolve()})}function q(h,c,a){g.set(h.rootNode,{top:0,left:0,position:"absolute"}),g.set(c.rootNode,{autoAlpha:0,y:v.SLIDE_EFFECT_Y_OFFSET}),a.refreshFadeItems(c.rootNode)}function b(B,G,A,z,H){var D=k.isDetail(G.url),h=k.isDetail(B.url),l="home"===k.slugFromPath(G.url);B.controller.hideFakeShadow();var F=0.8,C="light"===k.getContrast(G.url)?"#ffffff":"rgba(0, 0, 0, 0.7)",E=null;return B.controller.hideFakeHeader(),D&&(E=k.getContrastHeaderColor(G.url),E||(E="light"===k.getContrast(G.url)?"rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)")),H?g.set(B.controller.rootElem,{autoAlpha:0}):g.to(B.controller.rootElem,F/4,{autoAlpha:0}),Promise.all([A.expandHeader(F,k.getColor(G.url),E,k.getTitle(G.url).split(" - ")[0],k.getContrast(G.url),h,D).then(function(){return D||B.controller.hideFakeHeader(),Promise.resolve()}),A.setContrast(F/2,C),z.moveTracker(k.slugFromPath(G.url),k.shouldHideNavigation(G.url),C),A.transitionHiddenOnHomepage(F/2,l)])}function d(l,c,a){document.title=k.getTitle(c.url);var o=k.isDetail(c.url);c.controller.hideFakeShadow(),c.controller.hideFakeHeader();var h=0.8;return Promise.all([a.animateNewTitle(h),g.to(c.controller.rootElem,h,{y:0,ease:Expo.easeOut}),g.set(c.controller.rootElem,{autoAlpha:1})]).then(function(){return c.controller.showFakeShadow(),c.controller.showFakeHeader(),c.controller.rootElem.style.transform="none",a.restoreHiddenHeader(o,k.getContrast(c.url))})}Object.defineProperty(x,"__esModule",{value:!0}),x.fadeInHomepage=y,x.prepare=q,x.animateOut=b,x.run=d;var g=j(14),k=j(24),w=j(5),p=f(w),v=j(12)},function(d,b,a){function f(l,j,h,m,k){var g=new Promise(function(e){k?k.onComplete=e:m.onComplete=e,l(j,h,m,k)});return g.killTween=function(){TweenMax.killTweensOf(j)},g}function c(h,g){return TweenMax.set(h,g),Promise.resolve()}a(15),a(23),d.exports={to:f.bind(null,TweenMax.to),fromTo:f.bind(null,TweenMax.fromTo),set:c}},,,,,,,,,,function(m,w){function j(c){for(var a in window.META_JSON.page){if(window.META_JSON.page.hasOwnProperty(a)&&c===window.META_JSON.page[a].slug){return a}}}function f(c){var a=j(c);return a?window.META_JSON.page[a]:void 0}function x(r){if(r=r.split("?")[0].split("#")[0],r===window.HTTP_PREFIX){return{type:"page",id:r}}for(var l in window.META_JSON.page){if(window.META_JSON.page.hasOwnProperty(l)&&l!==window.HTTP_PREFIX){var h=window.META_JSON.page[l],u=l.replace(/\/$/,""),o=new RegExp("^"+u+"/(.+)/$"),c=r.match(o);if(c){return r in window.META_JSON.page?{type:"page",id:r}:{type:h.slug,id:c[1]}}}}return{type:"page",id:r}}function q(c){var a=x(c);return"page"!==a.type?a.type:window.META_JSON.page[a.id]?window.META_JSON.page[a.id].slug:void 0}function b(h){var c=q(h),a=f(c);return a.hideNavigation}function d(o){var l=x(o),h=l.type,r=l.id;if(h&&r){var c=window.META_JSON[h][r];if(c&&c.color){return c.color}}throw new Error("No color found")}function g(c){var a=x(c);return"page"===a.type&&window.META_JSON[a.type][a.id]&&window.META_JSON[a.type][a.id].isDetail===!0?!0:a.type&&"page"!==a.type&&null!==a.id}function k(o){var l=x(o),h=l.type,r=l.id;if(h&&r){var c=window.META_JSON[h][r];if(c&&c.contrastHeaderColor){return c.contrastHeaderColor}}}function v(l){var c=x(l),a=c.type,u=c.id,h=q(l);if("video"===h){return"light"}if(a&&u){var s=window.META_JSON[a][u];if(s&&s.contrast){return s.contrast}}return"light"}function p(s){var l=x(s),h=l.type,c=l.id;if("page"===h){var n=window.META_JSON[h][c];if(n&&n.title&&n.title!==window.DEFAULT_TITLE){return""+n.title+" - "+window.DEFAULT_TITLE}}var u=f(h);if(h&&c&&u){var n=window.META_JSON[h][c];if(n&&n.title){return""+n.title+" - "+u.title+" - "+window.DEFAULT_TITLE}}return window.DEFAULT_TITLE}Object.defineProperty(w,"__esModule",{value:!0}),w.pathFromSlug=j,w.pageFromSlug=f,w.definitionByPath=x,w.slugFromPath=q,w.shouldHideNavigation=b,w.getColor=d,w.isDetail=g,w.getContrastHeaderColor=k,w.getContrast=v,w.getTitle=p},function(h,k,g){function d(a){return a&&a.__esModule?a:{"default":a}}function m(r,p){var o=new XMLHttpRequest(),u=void 0;if(p){var q=r.split("?");u=f["default"].parse(q[1]);for(var l in p){p.hasOwnProperty(l)&&(u[l]=p[l])}r=q[0]+"?"+f["default"].stringify(u),p=null}return o.open("get",r,!0),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),new Promise(function(i,a){var s=setTimeout(function(){o.abort(),a(o)},120000);o.addEventListener("load",function(t){var e=t.target.responseText;t.target.status>=400?a(o):i(e)},!1),o.addEventListener("error",function(){return a(o)},!1),o.addEventListener("abort",function(){return a(o)},!1),o.addEventListener("loadend",function(){return clearTimeout(s)},!1),o.send()})}function j(i,a){return m(i,a).then(function(l){return new Promise(function(o,e){var q=null;if(""!==l){try{q=JSON.parse(l)}catch(p){return e(p)}}o(q)})})}function b(a){return m(a)}Object.defineProperty(k,"__esModule",{value:!0}),k.getJSON=j,k.getHTML=b;var c=g(26),f=d(c)},,,,,,function(au,ag,ap){function al(a){return a&&a.__esModule?a:{"default":a}}function ah(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}function ay(b){var a=b.toString(16);return 1===a.length?"0"+a:a}function ai(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}Object.defineProperty(ag,"__esModule",{value:!0});var ak=function(){function a(d,c){for(var b=0;b<c.length;b++){var f=c[b];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),an=ap(14),aq=ap(2),af=ap(5),aw=al(af),az=ap(99),av=al(az),at=ap(32),ae=al(at),aj=ap(24),am=ap(12),ar=ap(100),X=al(ar),ab=Math.abs,ad=Math.max,ao=Math.floor,ax=".js-wave-layer",j=".js-sticky-header-fade",aa=".js-hidden-on-homepage",q=".js-animate-contrast-color",Z=".js-animate-contrast-fill",Q=".js-search-is-active",z=".js-wave-trigger",G=".js-header-background",B=".js-fake-shadow",U=".js-hide-page-title",ac=".js-change-page-title-contrast",K=".js-nav-row",Y="color",W="contrast",V="overlay",J=function(){function a(c,b){var d=this;ah(this,a),this._app=c,this._elem=b,this._navScroller=aw["default"](am.NAV_STATE_SELECTOR)[0],this._headerChild=aw["default"](G)[0],this._headerChildTitleContainer=aw["default"](ac,this._elem)[0],this._headerChildTitle=aw["default"](U,this._elem)[0],this._navRow=aw["default"](K,this._elem)[0],this._fakeShadow=aw["default"](B,this._navRow)[0],this._headerColor=ae["default"](this._elem)[Y],this._headerContrastColor=ae["default"](this._elem)[V],this._headerContrastColor&&(this._headerColor=this._mixColors(this._headerColor,this._headerContrastColor)),this._headerContrast=ae["default"](this._elem)[W],this._fadeItems=null,this._shouldRevealLogoOnScroll=!1,this._hiddenOnHomepage=aw["default"](aa,this._elem)[0],this._searchIsActiveElem=aw["default"](Q,this._elem)[0],this._waveTriggers=aw["default"](z,this._elem),this._waveLayer=aw["default"](ax,this._elem)[0],this._wave=null,this._height=0,this._areEventsAttached=!1,this._isStuck=!1,this._isTransitioning=!1,this._isDepressed=!1,this._colorElems=aw["default"](q,this._elem),this._fillElems=aw["default"](""+Z+" svg ._fill-color",this._elem),this._startingScrollX=0,this._awaitingPosition=null,aq.bindAll(this,"_checkPosition","_onResize","_writeHeaderState","_onMouseDown","_onScrollEnd","_onTouchStart","_onNavScroll"),this._wave=new X["default"](this._app,this._waveLayer),this._wave.append(),this._onResize(),this._onScrollEnd(),this._setColor(),this._attachEvents(),setTimeout(function(){d.refreshFadeItems(document.body)},200)}return ak(a,[{key:"tearDown",value:function(){this._detachEvents(),this._wave.detach(),this._wave=null,this._waveTriggers=null,this._app=null,this._elem=null,this._fadeItems=null,this._searchIsActiveElem=null}},{key:"transitionHiddenOnHomepage",value:function(d,c){var b="mobile"===this._app.currentBreakpoint();return this._shouldRevealLogoOnScroll=c&&!b,an.to(this._hiddenOnHomepage,d,{autoAlpha:this._shouldRevealLogoOnScroll?0:1})}},{key:"setContrast",value:function(c,b){return Promise.all([an.to(this._colorElems,c,{color:b,ease:Linear.easeNone}),an.to(this._fillElems,c,{fill:b,ease:Linear.easeNone})])}},{key:"refreshFadeItems",value:function(b){this._fadeItems=aw["default"](j,b),this._checkPosition()}},{key:"_attachEvents",value:function(){var b=this;this._areEventsAttached||(this._waveTriggers.forEach(function(c){c.addEventListener("mousedown",b._onMouseDown),c.addEventListener("touchstart",b._onTouchStart)}),this._app.onScroll(this._checkPosition,!0),this._app.onScrollEnd(this._onScrollEnd),this._app.onResize(this._onResize),this._navScroller.addEventListener("scroll",this._onNavScroll),this._areEventsAttached=!0)}},{key:"_detachEvents",value:function(){var b=this;this._areEventsAttached&&(this._waveTriggers.forEach(function(c){c.removeEventListener("mousedown",b._onMouseDown),c.removeEventListener("touchstart",b._onTouchStart)}),this._app.offScroll(this._checkPosition,!0),this._app.offScrollEnd(this._onScrollEnd),this._app.offResize(this._onResize),this._navScroller.removeEventListener("scroll",this._onNavScroll),this._areEventsAttached=!1)}},{key:"_onMouseDown",value:function(g){if(!this._isDepressed&&!g.metaKey&&!g.ctrlKey){var d=av["default"](g.target,z).href.replace(ai(),"").split("#")[0],c=window.location.href.replace(ai(),"").split("#")[0];if(c!==d){var k=g.clientX,f=g.clientY;this._isDepressed=!0;var b=aj.getColor(d),h=aj.getContrastHeaderColor(d);!h&&aj.isDetail(d)&&(h="light"===aj.getContrast(d)?"rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)"),h&&(b=this._mixColors(b,h)),this._wave.onDown(k,f,b,!0,0.65)}}}},{key:"_onTouchStart",value:function(k){var r=this;if(!this._isDepressed){var f=av["default"](k.target,z).href.replace(ai(),"").split("#")[0],c=window.location.href.replace(ai(),"").split("#")[0];if(c!==f){var v="mobile"===this._app.currentBreakpoint();v&&(this._startingScrollX=this._navScroller.scrollLeft),this._isDepressed=!0;var m=k.changedTouches||k.targetTouches,b=m[0].pageX,d=m[0].pageY,g=aj.getColor(f),p=aj.getContrastHeaderColor(f);!p&&aj.isDetail(f)&&(p="light"===aj.getContrast(f)?"rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)"),p&&(g=this._mixColors(g,p)),this._awaitingPosition={x:b,y:d,newColor:g},setTimeout(function(){r._isDepressed&&r._awaitingPosition&&(r._wave.onDown(r._awaitingPosition.x,r._awaitingPosition.y,r._awaitingPosition.newColor,!0,0.65),r._awaitingPosition=null)},150)}}}},{key:"_onNavScroll",value:function(){if(this._isDepressed){var b=ab(this._navScroller.scrollLeft-this._startingScrollX);10>=b||(this._isDepressed=!1,this._wave.isMouseDown&&this._wave.cancel())}}},{key:"_onResize",value:function(){this._height=this._elem.getBoundingClientRect().height}},{key:"_setColor",value:function(){an.set(this._navRow,{backgroundColor:this._headerColor}),this._headerChild&&(this._headerChild.style.backgroundColor=this._headerColor)}},{key:"_onScrollEnd",value:function(){if("mobile"!==this._app.currentBreakpoint()){var d=-(this._height-am.MINIMUM_HEADER_HEIGHT),c=-this._app.currentScroll();c=ad(c,d);var b=c+this._height;this._elem.style.height=""+b+"px";var f=am.MAXIMUM_HEADER_HEIGHT-b;an.set(this._waveLayer,{y:-f}),an.set(this._headerChild,{y:-f}),an.set(this._wave.elem,{y:f})}}},{key:"_checkPosition",value:function(h){var d=void 0===arguments[1]?0:arguments[1];if("mobile"!==this._app.currentBreakpoint()&&!this._isTransitioning){h=h||this._app.currentScroll();for(var c=[],k=0;k<ao(ab(d)/6);k++){c[k]=h+d*(k+1)}for(var f=this._isPastHeader(h),b=!1,k=0;k<c.length;k++){if(f!==this._isPastHeader(c[k])){b=!0;break}}var g=f&&!b||!f&&b;!this._isStuck&&g?(this._isStuck=!0,this._fakeShadow.style.opacity=1):this._isStuck&&!g&&(this._isStuck=!1,this._fakeShadow.style.opacity=0),this._isStuck||this._writeHeaderState()}}},{key:"_isPastHeader",value:function(c){var b=this._height-am.MINIMUM_HEADER_HEIGHT;return c>=b+6}},{key:"expandHeader",value:function(m,A,k,g,C,w,b){var f=this,l="mobile"===this._app.currentBreakpoint();this._isTransitioning=!0,this._headerColor=A,k&&(this._headerColor=this._mixColors(this._headerColor,k)),this._isStuck=!1,l||(this._fakeShadow.style.opacity=0);var y=am.MAXIMUM_HEADER_HEIGHT-am.MINIMUM_HEADER_HEIGHT,v=w?y:Math.min(this._app.currentScroll(),y),x=b?y:0,p=void 0;return this._awaitingPosition&&(this._wave.onDown(this._awaitingPosition.x,this._awaitingPosition.y,this._awaitingPosition.newColor,!0,0.65),this._awaitingPosition=null),this._isDepressed?(l||!function(){var c={y:v};an.to(c,m-0.3,{y:x,onUpdate:function(){an.set(f._waveLayer,{y:-c.y}),an.set(f._headerChild,{y:-c.y}),an.set(f._wave.elem,{y:c.y})}})}(),p=this._wave.onUp()):p=an.to(this._headerChild,m,{backgroundColor:this._headerColor}),l?an.set(this._headerChild,{opacity:1,y:0}):an.fromTo(this._headerChild,m-0.3,{opacity:1,y:-v},{y:-x,ease:Expo.easeOut}),this._headerChildTitle&&(an.set(this._headerChildTitle,{opacity:0}),this._headerChildTitle.innerHTML=g),this._headerChildTitleContainer&&(this._headerChildTitleContainer.classList.remove("-dark"),this._headerChildTitleContainer.classList.remove("-light"),this._headerChildTitleContainer.classList.add("-"+C)),p.then(function(){f._wave.hide(),f._isDepressed&&an.set(f._headerChild,{backgroundColor:f._headerColor}),f._isDepressed=!1}),p}},{key:"animateNewTitle",value:function(b){return this._headerChildTitle?(an.to(this._headerChildTitle,0.2,{opacity:1,delay:0.1}),an.fromTo(this._headerChildTitle,b,{y:30},{y:0,ease:Expo.easeOut})):Promise.resolve()}},{key:"restoreHiddenHeader",value:function(d,c){var b="mobile"===this._app.currentBreakpoint();if(an.set(this._navRow,{backgroundColor:this._headerColor}),an.set(this._headerChild,{opacity:0}),!b){var f=d?64:am.MAXIMUM_HEADER_HEIGHT;this._elem.style.height=""+f+"px",this._onResize(),this._onScrollEnd()}return this._elem.classList.remove("-dark"),this._elem.classList.remove("-light"),this._elem.classList.add("-"+c),this._isTransitioning=!1,Promise.resolve()}},{key:"_writeHeaderState",value:function(){var c=this._app.currentScroll()>1;an.to(this._fadeItems,0.4,{autoAlpha:c?0:1});var b=aj.pathFromSlug("home")===window.location.pathname;b&&an.to(this._hiddenOnHomepage,0.4,{autoAlpha:c?1:0})}},{key:"_mixColors",value:function(p,x){for(var k=this._parseColor(p),f=this._parseColor(x),y=1-f[3],b=[],d=2*y-1,g=0,m=((d*g===-1?d:(d+g)/(1+d*g))+1)/2,w=1-m,v=0;3>v;v++){b[v]=ao(k[v]*m+f[v]*w)}return"#"+b.map(ay).join("")}},{key:"_parseColor",value:function(d){var c=d.match(/(rgb|rgba)\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)/);if(c){return[parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],10),c[5]?parseFloat(c[5]):1]}var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(d);if(b){return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),1]}throw new Error("Invalid color: "+d)}}]),a}();ag["default"]=J,au.exports=ag["default"]},function(h,d,c){function j(i){if(g){return i.dataset}var a=Array.prototype.slice.call(i.attributes,0);return a.reduce(function(m,l){var k=l.name.match(/^data-(.+)/);return k&&(m[f.camelize(k[1])]=l.value),m},{})}Object.defineProperty(d,"__esModule",{value:!0}),d["default"]=j;var f=c(33),b=document.createElement("div"),g="string"==typeof b.dataset;h.exports=d["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(d,b){function a(h,g){for(;h;){if(f(h,g)){return h}h=h.parentNode}}function f(j,h){if(c){return j[c]&&j[c](h)}for(var g=(j.parentNode||j.document).querySelectorAll(h),k=-1;g[++k]&&g[k]!=j;){}return !!g[k]}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=a;var c=Element.prototype.matchesSelector&&"matchesSelector"||Element.prototype.mozMatchesSelector&&"mozMatchesSelector"||Element.prototype.msMatchesSelector&&"msMatchesSelector"||Element.prototype.oMatchesSelector&&"oMatchesSelector"||Element.prototype.webkitMatchesSelector&&"webkitMatchesSelector";d.exports=b["default"]},function(ab,I,X){function Q(a){return a&&a.__esModule?a:{"default":a}}function J(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}function af(b,a){return H(B(b.x-a.x,2)+B(b.y-a.y,2))}function M(p,C,k,f,E){var w=0>=C?W:E,b=p/1000,d=C/1000,g=b+d,m=1.2*U(H(k*k+f*f),w)+5,A=1*(m/w),v=g/A,y=m*(1-B(40,-v));return D(y)}function P(c,b,a){var d=b/1000;return 0>=b?ae:Z(0,ae-d*a)}function V(g,d,c,h,f){var b=P(g,d,f);return 0.01>b||c>=h}function Y(g,d,c,h,f){var b=P(g,d,f);return b>=ae&&c>=h}function G(c,b){var a=c.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(a){return"rgba("+a[1]+", "+a[2]+", "+a[3]+", "+b+")"}var d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);return d?"rgba("+parseInt(d[1],16)+", "+parseInt(d[2],16)+", "+parseInt(d[3],16)+", "+b+")":"rgba(255, 255, 255, "+b+")"}function ad(f,b){var a=af(f,j);N.x=b.w;var g=af(f,N);K.y=b.h;var c=af(f,K);q.x=b.w,q.y=b.h;var d=af(f,q);return Z(a,g,c,d)}Object.defineProperty(I,"__esModule",{value:!0});var ag=function(){function a(d,c){for(var b=0;b<c.length;b++){var f=c[b];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),ac=X(2),aa=X(14),F=X(11),O=Q(F),U=Math.min,Z=Math.max,H=Math.sqrt,B=Math.pow,H=Math.sqrt,D=Math.abs,W=75,ae=0.3,j={x:0,y:0},N={x:1,y:0},q={x:0,y:1},K={x:0,y:1},z={css:{x:0,y:0,opacity:0,scale:0}},x=function(){function a(c,b){J(this,a),this._app=c,this._containerElem=b,this._containerRect={w:1,h:1},this.elem=null,this._position={x:0,y:0},this._maxRadius=1,this._isOpaque=!1,this._isAttached=!1,this._promise=null,ac.bindAll(this,"_animate","_updateSize"),this._prepareElements()}return ag(a,[{key:"tearDown",value:function(){this.detach(),this.elem=null,this._containerRect=null,this._tweenStatus=null,this._tweenTarget=null,this._position=null}},{key:"_prepareElements",value:function(){this._containerElem.style.overflow="hidden",this.elem=document.createElement("div"),this.elem.style.willChange="opacity, backgroundColor",this.elem.style.pointerEvents="none",this.elem.style.position="absolute",this.elem.style.top="0px",this.elem.style.left="0px",this.elem.style.right="0px",this.elem.style.bottom="0px",this.elem.style.overflow="hidden",this.elem.style.opacity=0,this._wave=document.createElement("div"),this._wave.style.willChange="opacity, transform",this._wave.style.position="absolute",this._wave.style.overflow="hidden",this._wave.style.borderRadius="50% 50%",this._wave.style.backgroundColor="rgb(255,255,255)",aa.set(this._wave,{transformOrigin:"50% 50%"}),this.elem.appendChild(this._wave)}},{key:"append",value:function(){this._isAttached||(this._isAttached=!0,this._containerElem.appendChild(this.elem),this._app.onResize(this._updateSize),this._updateSize())}},{key:"detach",value:function(){this._isAttached&&(this._isAttached=!1,this._containerElem.removeChild(this.elem),this._app.offResize(this._updateSize))}},{key:"_updateSize",value:function(){var b=this._containerElem.getBoundingClientRect();this._containerRect.w=b.width,this._containerRect.h=b.height,this._maxRadius=1.6*ad(j,this._containerRect),this.width=this.height=this._maxRadius/2,this._wave.style.width=""+this.width+"px",this._wave.style.height=""+this.height+"px"}},{key:"onDown",value:function(g,d){var c=void 0===arguments[2]?"rgb(255, 255, 255)":arguments[2],h=this,f=void 0===arguments[3]?!1:arguments[3],b=void 0===arguments[4]?0.65:arguments[4];return this._promise=new Promise(function(i){h.resolver=i}),this._isOpaque=f,this._speed=b,this._firstFrame=!0,this.color=c,this.hasWave=!0,this.cancelled=!1,this.isMouseDown=!0,this.tDown=0,this.tUp=0,this.mouseUpStart=0,this.mouseDownStart=O["default"](),this.setPosition(g,d),this._loop||(this._loop=this._animate,requestAnimationFrame(this._loop)),this._promise}},{key:"setPosition",value:function(c,b){this._position.x=c-this.width/2,this._position.y=b-this.height/2}},{key:"onUp",value:function(){return this.isMouseDown?(this.isMouseDown=!1,this.mouseUpStart=O["default"](),this.mouseDownStart=0,this.tDown=U(this.tDown,250),this.tDown<70&&(this.tDown=0),this.tUp=0):this._loop&&requestAnimationFrame(this._loop),this._promise}},{key:"_animate",value:function(){if(this._isAttached){this.mouseDownStart>0&&(this.tDown=O["default"]()-this.mouseDownStart),this.mouseUpStart>0&&(this.tUp=O["default"]()-this.mouseUpStart);var g=M(this.tDown,this.tUp,this._containerRect.w,this._containerRect.h,this._maxRadius),o=P(this.tDown,this.tUp,this._speed),f=this._position.x,b=this._position.y,p=Y(this.tDown,this.tUp,g,this._maxRadius,this._speed),l=V(this.tDown,this.tUp,g,this._maxRadius,this._speed),k=this.mouseUpStart>0?!l:!p;if((this.cancelled||!k)&&(this.hasWave=!1),this._isOpaque&&this.mouseUpStart>0){var m=1-o,h=G(this.color,m);this.elem.style.backgroundColor=h}this.drawRipple(f,b,g,o),k&&!this.cancelled&&requestAnimationFrame(this._loop),!this.hasWave&&this._loop&&(this._loop=null,this.resolver())}}},{key:"drawRipple",value:function(d,c,b,f){z.css.x=d,z.css.y=c,z.css.opacity=f,z.css.scale=b/this._maxRadius*2,aa.set(this._wave,z),this._firstFrame&&(aa.set(this.elem,{opacity:1}),this._firstFrame=!1)}},{key:"hide",value:function(){aa.set(this.elem,{opacity:0}),this.elem.style.backgroundColor="transparent"}},{key:"cancel",value:function(){this.cancelled=!0,aa.to(this._wave,0.2,{scale:0,opacity:0,delay:0.1})}}]),a}();I["default"]=x,ab.exports=I["default"]},function(O,A,K){function G(a){return a&&a.__esModule?a:{"default":a}}function B(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(A,"__esModule",{value:!0});var R=function(){function a(f,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),C=K(2),F=K(5),I=G(F),L=K(32),x=G(L),Q=K(14),S=K(24),P=".js-nav-state-item",N=".js-nav-state-hide",q="navStateSlug",D="2px",H=0.6,M=0.0021,z=0.45,b=0.9,j={startX:0,targetX:0,distance:0,rotation:0,scale:1,opacity:1,color:"black"},J=function(){function a(d,c){B(this,a),this._app=d,this._elem=c,this._tracker=null,this._items=I["default"](P,this._elem).map(function(f){return{elem:f,offsetWidth:0,offsetLeft:0}}),this._itemsThatHideNavOnLoad=new Set(I["default"](N,this._elem)),this._activeItem=this._items[0],this._navIsHidden=!1,this._itemKeyLookup=this._cacheNavAsKeys(),this._areEventsAttached=!1,C.bindAll(this,"_onResize"),this._cacheItemDimensions(),this._findAndSetCurrentPath(),this._attachEvents()}return R(a,[{key:"tearDown",value:function(){this._detachEvents(),this._elem=null,this._app=null,this._tracker=null,this._items=null,this._itemKeyLookup=null,this._activeItem=null}},{key:"_attachEvents",value:function(){this._areEventsAttached||(this._app.onResize(this._onResize),this._areEventsAttached=!0)}},{key:"blurNavItems",value:function(){this._items.forEach(function(c){c.elem.blur()})}},{key:"_detachEvents",value:function(){this._areEventsAttached&&(this._app.offResize(this._onResize),this._areEventsAttached=!1)}},{key:"_cacheNavAsKeys",value:function(){return this._items.reduce(function(f,d){var c=x["default"](d.elem)[q];return f[c]=d.elem,f},{})}},{key:"_definitionForSlug",value:function(d){var c=this._itemKeyLookup[d];return this._items.filter(function(f){return f.elem===c})[0]}},{key:"_findAndSetCurrentPath",value:function(){var c=S.slugFromPath(window.location.pathname);this._activeItem=this._definitionForSlug(c),this._createTracker()}},{key:"_createTracker",value:function(){return this._tracker=document.createElement("div"),Q.set(this._tracker,{css:{width:this._activeItem?this._activeItem.offsetWidth:0,height:D,backgroundColor:this._items[0].elem.style.color||window.getComputedStyle(this._items[0].elem).color,transformOrigin:"left center",position:"absolute",bottom:0,left:0,x:this._activeItem?this._activeItem.offsetLeft:0,opacity:0}}),this._elem.appendChild(this._tracker),this._activeItem&&this._itemsThatHideNavOnLoad.has(this._activeItem.elem)?void this.hideNav(0):void Q.to(this._tracker,H,{opacity:1,delay:H,ease:Expo.easeOut})}},{key:"_onResize",value:function(){this._cacheItemDimensions(),this._setTrackerPosition()}},{key:"_cacheItemDimensions",value:function(){var c=this;this._items=this._items.map(function(d){return c._activeItem&&c._activeItem.elem===d.elem&&(c._activeItem=d),{elem:d.elem,offsetWidth:d.elem.offsetWidth,offsetLeft:d.elem.offsetLeft}})}},{key:"_setTrackerPosition",value:function(){!this._navIsHidden&&this._activeItem&&Q.set(this._tracker,{rotation:0,x:this._activeItem.offsetLeft,width:this._activeItem.offsetWidth})}},{key:"moveTracker",value:function(p,E,k){var f=this,T=this._definitionForSlug(p);if(E){return void this.hideNav()}this._navIsHidden&&this.showNav(),T?(j.scale=1,j.opacity=1):(j.scale=0,j.opacity=0,T=this._items[0]),j.color=k;var v=this._activeItem?this._activeItem.offsetLeft:0,c=this._activeItem?this._activeItem.offsetWidth:0,d=T.offsetLeft>v?!0:!1;j.rotation=d?0:180,j.startX=d?v:v+c,j.targetX=d?T.offsetLeft-T.offsetWidth:T.offsetLeft,j.distance=d?j.targetX-j.startX+2*T.offsetWidth:j.startX-j.targetX,Q.set(this._tracker,{rotation:j.rotation,x:j.startX});var g=Math.abs(T.offsetLeft-v),m=M*g;z>m?m=z:m>b&&(m=b),Q.to(this._tracker,m,{width:j.distance,backgroundColor:j.color,scale:j.scale,opacity:j.opacity,ease:Cubic.easeOut}),Q.to(this._tracker,0.5*m,{x:j.targetX+T.offsetWidth,width:T.offsetWidth,ease:Cubic.easeOut,delay:0.25*m});var y=T.elem.getBoundingClientRect().left,w=T.elem.getBoundingClientRect().right;(0>y||w>window.innerWidth)&&!function(){var h={x:f._elem.scrollLeft};Q.to(h,H,{x:j.targetX,ease:Expo.easeOut,onUpdate:function(){f._elem.scrollLeft=h.x}})}(),this._activeItem=T}},{key:"hideNav",value:function(){var c=void 0===arguments[0]?H:arguments[0];this._navIsHidden=!0,this._elem.setAttribute("aria-hidden","true"),Q.to(this._elem,c,{autoAlpha:0}),Q.to(this._tracker,c,{scaleX:0})}},{key:"showNav",value:function(){this._navIsHidden=!0,this._elem.setAttribute("aria-hidden","false"),Q.to(this._elem,H,{autoAlpha:1}),Q.set(this._tracker,{x:this._activeItem.offsetLeft,width:this._activeItem.offsetWidth}),Q.to(this._tracker,H,{scaleX:1})}}]),a}();A["default"]=J,O.exports=A["default"]},function(k,q,g){function d(a){return a&&a.__esModule?a:{"default":a}}function v(h,a){if(!(h instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function a(o,l){for(var h=0;h<l.length;h++){var r=l[h];r.enumerable=r.enumerable||!1,r.configurable=!0,"value" in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(h,e,l){return e&&a(h.prototype,e),l&&a(h,l),h}}(),b=g(2),c=g(5),f=d(c),j=".js-dot",p=function(){function a(h,e){v(this,a),this._app=h,this._elem=e,this._dots=f["default"](j,this._elem),this._eventsAttached=!1,b.bindAll(this,"_onResize"),this._attachEvents()}return m(a,[{key:"tearDown",value:function(){this._detachEvents(),this._app=null,this._elem=null}},{key:"_attachEvents",value:function(){this._eventsAttached||(this._eventsAttached=!0,this._app.onResize(this._onResize),setTimeout(this._onResize,100))}},{key:"_detachEvents",value:function(){this._eventsAttached&&(this._eventsAttached=!1,this._app.offResize(this._onResize))}},{key:"_onResize",value:function(){this._dots.forEach(function(n){var l=n.getBoundingClientRect(),h=l.width;5>=h?n.classList.add("-last"):n.classList.remove("-last")})}}]),a}();q["default"]=p,k.exports=q["default"]},function(aO,az,aK){function aF(a){return a&&a.__esModule?a:{"default":a}}function aA(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(az,"__esModule",{value:!0});var aS=function(){function a(d,c){for(var b=0;b<c.length;b++){var f=c[b];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),aB=aK(14),aE=aK(2),aH=aK(5),aL=aF(aH),ay=aK(105),aQ=aF(ay),aT=aK(106),aP=aF(aT),aN=aK(108),ax=aF(aN),aD=aK(102),aG=aF(aD),aM=aK(7),an=aF(aM),au=aK(110),aw=aF(au),aI=aK(111),aR=aF(aI),ab=aK(104),ar=aF(ab),ac=aK(112),ap=aF(ac),ai=aK(117),ad=aF(ai),af=aK(121),ae=aF(af),ak=aK(120),av=aF(ak),ah=aK(123),ao=aF(ah),am=aK(125),al=aF(am),ag=aK(126),aq=aF(ag),aJ=aK(127),Z=aF(aJ),at=aK(12),Q="ready";az.READY_EVENT=Q;var aa=".js-in-page-fake-shadow",G=".js-in-page-fake-header",J=".js-animate-out",aj=-1===navigator.userAgent.indexOf("MSIE"),aC=function(){function a(c,b,d){aA(this,a),this._app=c,this.rootElem=b,this.animateElem=aL["default"](J,this.rootElem)[0],this._elem=d,this._fakeHeader=aL["default"](G,this._elem),this._fakeShadow=aL["default"](aa,this._elem),this._eventsAttached=!1,this._scrollBlocker=null,aj&&(this._scrollBlocker=new aQ["default"](),this._scrollBlocker.attachTo(this._elem)),this._subComponents=this._initSubcomponents(),aE.bindAll(this,"_onScrollStart","_onScrollEnd"),this._attachEvents()}return aS(a,[{key:"tearDown",value:function(){this._detachEvents(),this.tearDownEventable(),this._scrollBlocker&&(this._scrollBlocker.tearDown(),this._scrollBlocker=null),this._subComponents.forEach(function(b){return b.tearDown()}),this._subComponents=null,this.rootElem=null,this._elem=null,this._app=null}},{key:"_initSubcomponents",value:function(){var q=this,z=aL["default"](at.RESPONSIVE_IMAGE_SELECTOR,this._elem).map(function(c){return new ax["default"](q._app,c)}),k=aL["default"](at.GRID_ITEM_SELECTOR,this._elem).map(function(c){return new ad["default"](q._app,c)}),h=aL["default"](at.VIDEO_SELECTOR,this._elem).map(function(c){return new ao["default"](q._app,c)}),A=aL["default"](at.ARTICLE_VIDEO,this._elem).map(function(c){return new al["default"](q._app,c)}),w=aL["default"](at.ARTICLE_YOUTUBE_VIDEO_SELECTOR,this._elem).map(function(c){return new aq["default"](q._app,c)}),b=aL["default"](at.HIDDEN_CHARACTER_CONTAINER_SELECTOR,this._elem).map(function(c){return new aG["default"](q._app,c)}),g=aL["default"](at.CAROUSEL_SELECTOR,this._elem).map(function(c){return new aw["default"](q._app,c)}),j=aL["default"](at.TABS_SELECTOR,this._elem).map(function(c){return new aR["default"](q._app,c)}),y=aL["default"](at.ANIMATE_SCROLL_SELECTOR,this._elem).map(function(c){return new ar["default"](q._app,c)}),v=aL["default"](at.SEARCH_COMPONENT_SELECTOR,this._elem).map(function(c){return new ap["default"](q._app,c,q)}),x=aL["default"](at.SHARE_FAB_SELECTOR,this._elem).map(function(c){return new Z["default"](q._app,c)}),m=aL["default"](at.QUOTE_SELECTOR,this._elem).map(function(c){return new ae["default"](q._app,c)}),d=aL["default"](at.HEADER_HOVER_ANIMATION_SELECTOR,this._elem).map(function(c){return new av["default"](q._app,c,q,!0)});return aP["default"](at.AVOID_ORPHANS_SELECTOR),[].concat(z,k,h,A,w,b,g,j,y,v,x,m,d)}},{key:"_onScrollStart",value:function(){this._scrollBlocker&&this._scrollBlocker.block()}},{key:"_onScrollEnd",value:function(){this._scrollBlocker&&this._scrollBlocker.unblock()}},{key:"_attachEvents",value:function(){this._eventsAttached||(this._eventsAttached=!0,this._app.onScrollStart(this._onScrollStart),this._app.onScrollEnd(this._onScrollEnd))}},{key:"_detachEvents",value:function(){this._eventsAttached&&(this._eventsAttached=!1,this._app.offScrollStart(this._onScrollStart),this._app.offScrollEnd(this._onScrollEnd))}},{key:"hideFakeShadow",value:function(){aB.set(this._fakeShadow,{autoAlpha:0})}},{key:"showFakeShadow",value:function(){aB.set(this._fakeShadow,{autoAlpha:1})}},{key:"hideFakeHeader",value:function(){aB.set(this._fakeHeader,{autoAlpha:0})}},{key:"showFakeHeader",value:function(){aB.set(this._fakeHeader,{autoAlpha:1})}}]),a}();aE.extend(aC.prototype,an["default"](Q)),az["default"]=aC},function(E,j,B){function y(a){return a&&a.__esModule?a:{"default":a}}function k(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(j,"__esModule",{value:!0});var H=function(){function a(f,d){for(var c=0;c<d.length;c++){var h=d[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value" in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),q=B(2),x=B(5),A=y(x),C=B(99),g=y(C),G=B(32),I=y(G),F=B(14),D="scrollParent",b="scrollTarget",w=0.3,z=function(){function a(d,c){k(this,a),this._app=d,this._elem=c,this._parent=g["default"](this._elem,I["default"](this._elem)[D])||window;var e=A["default"](I["default"](this._elem)[b])[0];this._target=e?e.scrollTop:0,q.bindAll(this,"_scrollToTarget"),this._attachEvents()}return H(a,[{key:"tearDown",value:function(){this._detachEvents(),this._elem=null,this._app=null,this._parent=null,this._target=null}},{key:"_attachEvents",value:function(){this._areEventsAttached||(this._elem.addEventListener("click",this._scrollToTarget),this._areEventsAttached=!0)}},{key:"_detachEvents",value:function(){this._areEventsAttached&&(this._elem.removeEventListener("click",this._scrollToTarget),this._areEventsAttached=!1)}},{key:"_scrollToTarget",value:function(f){var d=this;f.preventDefault(),f.stopPropagation();var c={y:this._parent.scrollTop||this._parent.scrollY};F.to(c,w,{y:this._target,ease:Expo.easeOut,onUpdate:function(){d._parent.scrollTop?d._parent.scrollTop=c.y:d._parent.scrollTo&&d._parent.scrollTo(0,c.y)}})}}]),a}();j["default"]=z,E.exports=j["default"]},function(h,d,c){function j(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(d,"__esModule",{value:!0});var f=function(){function a(m,l){for(var k=0;k<l.length;k++){var o=l[k];o.enumerable=o.enumerable||!1,o.configurable=!0,"value" in o&&(o.writable=!0),Object.defineProperty(m,o.key,o)}}return function(k,e,l){return e&&a(k.prototype,e),l&&a(k,l),k}}(),b=c(14),g=function(){function a(){j(this,a),this._elem=document.createElement("div"),this._isAttached=!1,this._isBlocking=!0,b.set(this._elem,{x:0,y:0}),this._elem.style.position="absolute",this._elem.style.top=0,this._elem.style.right=0,this._elem.style.bottom=0,this._elem.style.left=0,this._elem.style.opacity=0,this._elem.style.zIndex=2147483647,this.unblock()}return f(a,[{key:"tearDown",value:function(){this._detach(),this._elem=null}},{key:"block",value:function(){this._isBlocking||(this._elem.style.pointerEvents="auto",this._isBlocking=!0)}},{key:"unblock",value:function(){this._isBlocking&&(this._elem.style.pointerEvents="none",this._isBlocking=!1)}},{key:"attachTo",value:function(i){this._isAttached||(i.appendChild(this._elem),this._isAttached=!0)}},{key:"_detach",value:function(){this._isAttached&&(this._elem.parentNode.removeChild(this._elem),this._isAttached=!1)}}]),a}();d["default"]=g,h.exports=d["default"]},function(k,p,g){function d(a){return a&&a.__esModule?a:{"default":a}}function q(l){var h=l.lastChild,a=void 0;h&&3==h.nodeType&&(a=h.nodeValue.trim(),c["default"].write(function(){h.nodeValue=a.replace(/\s+([^\s]+\s*)$/g,"\xa0$1")}))}function m(a){j["default"](a).forEach(function(h){c["default"].read(function(){q(h)})})}Object.defineProperty(p,"__esModule",{value:!0}),p.avoidOrphan=q,p["default"]=m;var b=g(107),c=d(b),f=g(5),j=d(f)},,function(p,z,k){function g(a){return a&&a.__esModule?a:{"default":a}}function A(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function w(){return 0}Object.defineProperty(z,"__esModule",{value:!0});var b=function(){function a(h,d){for(var c=0;c<d.length;c++){var l=d[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value" in l&&(l.writable=!0),Object.defineProperty(h,l.key,l)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),f=k(2),j=k(32),m=g(j),y=k(109),v=g(y),x=[360,620,1240,2480],q=function(){function a(d,c){var h=void 0===arguments[2]?w:arguments[2];if(A(this,a),this._app=d,this._elem=c,this._delay=h,this._data=m["default"](this._elem),this._hasScrolledInToView=!1,this._hasLoaded=!1,this._sourcePath=this._data.src,this._shouldApplyAspectRatio="true"===this._data.preserveaspectratio,this._ratioPadding=null,this._loadedImages={},this._currentSize=null,this._shouldApplyAspectRatio&&this._data.knowndimensions&&this._data.knowndimensions.length>0){var e=this._data.knowndimensions.split("x").map(function(i){return parseInt(i,10)});this._ratioPadding=e[1]/e[0]*100,this._elem.style.paddingBottom=this._ratioPadding+"%"}f.bindAll(this,"_onResize","_scrolledIntoView"),this._onResize(),this._attachEvents()}return b(a,[{key:"_getPath",value:function(G){var K=window.devicePixelRatio>1.5,E=this._sourcePath;if(0===G||"true"===this._data.fixedSize){return E}var C=this._data.mobileSrc;C&&C.length>0&&window.innerWidth<=v["default"].mobile.max&&(E=C);var L=this._data.alternateSrc;L&&(E=L);var I=E.split("."),c=I.pop();if("svg"===c||"svgz"===c){return E}var B=void 0;B=this._rect.width<=x[0]?x[0]:this._rect.width>x[0]&&this._rect.width<=x[1]?x[1]:this._rect.width>x[1]&&this._rect.width<=x[2]?x[2]:x[3];var D=I.join("."),F=D.split("/"),J=F.pop();F.push("renditions"),F.push(J);var H=F.join("/");return K&&(B=""+B+"@2x"),""+H+"-"+B+"."+c}},{key:"tearDown",value:function(){this._detachEvents(),this._loadedImages=null}},{key:"_attachEvents",value:function(){this._eventsAttached||(this._eventsAttached=!0,this._app.onResize(this._onResize),this._app.trackElement(this._elem,this._scrolledIntoView,300))}},{key:"_detachEvents",value:function(){this._eventsAttached&&(this._eventsAttached=!1,this._app.offResize(this._onResize),this._app.untrackElement(this._elem))}},{key:"_scrolledIntoView",value:function(){this._hasScrolledInToView=!0,this._update()}},{key:"_onResize",value:function(){this._rect=this._elem.getBoundingClientRect(),this._update()}},{key:"_update",value:function(){this._hasScrolledInToView&&this._loadImageForSize(this._rect.width)}},{key:"_loadImageForSize",value:function(h){var d=this,c=this._getPath(h),l=this._loadedImages[c];"undefined"!=typeof l?this._setImage(l):!function(){var i=new Image(),o=d;i.onload=function(){o._eventsAttached&&(o._loadedImages[c]=i,o._setImage(i),o._update())},i.src=c}()}},{key:"_setImage",value:function(d){var c=this;this._hasLoaded||(this._hasLoaded=!0,setTimeout(function(){return c._elem.classList.add("loaded")},10+this._delay())),this._elem.style.backgroundImage="url("+d.src+")",this._shouldApplyAspectRatio&&!this._ratioPadding&&(this._ratioPadding=d.height/d.width*100,this._elem.style.paddingBottom=this._ratioPadding+"%")}}]),a}();z["default"]=q,p.exports=z["default"]},function(b,a){Object.defineProperty(a,"__esModule",{value:!0}),a["default"]={mobile:{min:0,max:792},desktop:{min:793,max:1/0}},b.exports=a["default"]},function(O,A,K){function G(a){return a&&a.__esModule?a:{"default":a}}function B(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(A,"__esModule",{value:!0});var R=function(){function a(f,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),C=K(2),F=K(5),I=G(F),L=K(32),x=G(L),Q=K(14),S=30,P=".js-carousel-items",N=".js-carousel-slide",q=".js-carousel-controls",D=".js-carousel-next",H=".js-carousel-prev",M=".js-carousel-pager",z=".js-carousel-pager-dots",b="._generated-image-container",j=600,J=function(){function a(f,e){B(this,a),this._app=f,this._elem=e,this._slidingElem=I["default"](P,this._elem)[0],this._controlsElem=I["default"](q,this._elem)[0],this._nextButton=I["default"](D,this._controlsElem)[0],this._prevButton=I["default"](H,this._controlsElem)[0],this._pagerElem=I["default"](M,this._elem)[0],this._pagerDots=I["default"](z,this._pagerElem),this._scrollOffset=0,this._slides=I["default"](N,this._elem),this._slugToItem=this._cacheSlidesByKey(),this._linksToItem=this._cacheSlidesLinksByKey(),this._currentIdx=0,this._lastActive=0,this._isRunning=!1,this._hasResized=!1,this._hasChanged=!1,this._isDragging=!1,this._dragXStart=-1,this._dragOffset=0,this._width=0,this._lastTouchX=0,this._dragMomentum=0,this._firstRun=!0,C.bindAll(this,"_onResize","_onFrame","previous","next","_dragBegin","_dragMove","_dragEnd","_touchBegin","_touchMove","_touchEnd","_onPopState","_dotClick");var m="true"===x["default"](this._elem).autosize;if(m){var d=I["default"](b,this._slides[0])[0];if(d){var k=d.getBoundingClientRect();this._elem.style.paddingBottom=k.height/k.width*100+"%"}}if(this._slides.length>0){if(window.location.hash&&window.location.hash.length>0){var g=window.location.hash.slice(1,window.location.hash.length+1),l=this._slugToItem[g];l&&(this._currentIdx=l.idx)}this._reposition(),this._updateVisible(),this._attachEvents()}this._elem.style.opacity=1}return R(a,[{key:"tearDown",value:function(){this._detachEvents(),this._prevButton=null,this._nextButton=null,this._controlsElem=null,this._slidingElem=null,this._slides=null,this._elem=null,this._app=null,this._pagerElem=null,this._pagerDots=null}},{key:"previous",value:function(){this._currentIdx--,this._currentIdx<0&&(this._currentIdx=0),this._hasChanged=!0}},{key:"next",value:function(){this._currentIdx++,this._currentIdx>=this._slides.length&&(this._currentIdx=this._slides.length-1),this._hasChanged=!0}},{key:"_cacheSlidesByKey",value:function(){return this._slides.reduce(function(f,d,c){var g=x["default"](d).slug;return f[g]={slide:d,idx:c,links:I["default"]("a",d)},f},{})}},{key:"_cacheSlidesLinksByKey",value:function(){return this._slides.reduce(function(f,d,c){var g=I["default"]("a",d);return f[c]=g,f},{})}},{key:"_attachEvents",value:function(){var c=this;this._areEventsAttached||(this._isRunning=!0,this._app.onResize(this._onResize),this._app.onFrame(this._onFrame),this._prevButton.addEventListener("click",this.previous),this._nextButton.addEventListener("click",this.next),this._slidingElem.addEventListener("mousedown",this._dragBegin),document.addEventListener("mousemove",this._dragMove),document.addEventListener("mouseup",this._dragEnd),this._slidingElem.addEventListener("touchstart",this._touchBegin),document.addEventListener("touchmove",this._touchMove),document.addEventListener("touchend",this._touchEnd),document.addEventListener("touchcancel",this._touchEnd),window.addEventListener("popstate",this._onPopState),this._pagerDots.forEach(function(d){d.addEventListener("click",c._dotClick)}),this._areEventsAttached=!0)}},{key:"_detachEvents",value:function(){var c=this;this._areEventsAttached&&(this._isRunning=!1,this._app.offResize(this._onResize),this._app.offFrame(this._onFrame),this._prevButton.removeEventListener("click",this.previous),this._nextButton.removeEventListener("click",this.next),this._slidingElem.removeEventListener("mousedown",this._dragBegin),document.removeEventListener("mousemove",this._dragMove),document.removeEventListener("mouseup",this._dragEnd),this._slidingElem.removeEventListener("touchstart",this._touchBegin),document.removeEventListener("touchmove",this._touchMove),document.removeEventListener("touchend",this._touchEnd),document.removeEventListener("touchcancel",this._touchEnd),window.removeEventListener("popstate",this._onPopState),this._pagerDots.forEach(function(d){d.removeEventListener("click",c._dotClick)}),this._areEventsAttached=!1)}},{key:"_reposition",value:function(){var d=this._elem.getBoundingClientRect();this._width=d.width;for(var c=0;c<this._slides.length;c++){this._slides[c].style.left=c*this._width+"px"}this._scrollOffset=0-this._currentIdx*this._width,this._setTransition("none"),this._setPosition(this._scrollOffset,0),this._lastActive=this._currentIdx}},{key:"_moveSlides",value:function(){this._scrollOffset=0-this._currentIdx*this._width,this._setTransition(this._isDragging?"transform "+j+"ms cubic-bezier(0, 0.0, 0.2, 1)":"transform "+j+"ms cubic-bezier(0.4, 0.0, 0.2, 1)"),this._setPosition(this._scrollOffset,0),this._slides[this._currentIdx].classList.contains("dark")?this._controlsElem.classList.add("dark"):this._controlsElem.classList.remove("dark"),this._lastActive=this._currentIdx,this._updateVisible()}},{key:"_updateVisible",value:function(){var g=this,d=this._slides[this._currentIdx],c=x["default"](d).contrastModifier;"-dark"===c&&(this._elem.classList.add("-dark"),this._elem.classList.remove("-light")),"-light"===c&&(this._elem.classList.add("-light"),this._elem.classList.remove("-dark")),this._pagerDots.forEach(function(k){var e=parseInt(x["default"](k).index,10);g._currentIdx===e?(g._pagerDots[e].classList.add("-is-current"),g._pagerDots[e].setAttribute("aria-selected",!0)):(g._pagerDots[e].classList.remove("-is-current"),g._pagerDots[e].setAttribute("aria-selected",!1))}),0===this._currentIdx?(this._prevButton.classList.add("disabled"),this._prevButton.setAttribute("aria-disabled",!0)):(this._prevButton.classList.remove("disabled"),this._prevButton.removeAttribute("aria-disabled")),this._currentIdx>=this._slides.length-1?(this._nextButton.classList.add("disabled"),this._nextButton.setAttribute("aria-disabled",!0)):(this._nextButton.classList.remove("disabled"),this._nextButton.removeAttribute("aria-disabled"));for(var h=0;h<this._slides.length;h++){h===this._currentIdx?(this._slides[h].setAttribute("aria-hidden",!1),this._slides[h].removeAttribute("tabindex"),this._linksToItem[h].forEach(function(i){i.removeAttribute("tabindex")})):(this._slides[h].setAttribute("aria-hidden",!0),this._slides[h].setAttribute("tabindex","-1"),this._linksToItem[h].forEach(function(i){i.setAttribute("tabindex","-1")}))}var f=x["default"](d).slug;f&&(this._firstRun?this._firstRun=!1:window.location.hash=f),setTimeout(function(){return g._app.checkForVisibleElements()},400)}},{key:"_setTransition",value:function(c){this._slidingElem.style.webkitTransition=c.replace("transform","-webkit-transform"),this._slidingElem.style.transition=c}},{key:"_setPosition",value:function(d,c){Q.set(this._slidingElem,{x:d,y:c})}},{key:"_onResize",value:function(){this._hasResized=!0}},{key:"_onFrame",value:function(){if(this._isRunning&&(this._hasResized&&(this._reposition(),this._hasResized=!1),this._hasChanged&&(this._moveSlides(),this._hasChanged=!1),this._isDragging)){this._setTransition("none");var c=0-(this._scrollOffset+this._dragOffset);0>c?c=0:c>(this._slides.length-1)*this._width&&(c=(this._slides.length-1)*this._width),this._setPosition(0-c,0)}}},{key:"_touchBegin",value:function(c){this._dragBegin(c.touches[0])}},{key:"_touchMove",value:function(c){this._dragMove(c.touches[0])}},{key:"_touchEnd",value:function(c){this._dragEnd(c.touches[0])}},{key:"_dragBegin",value:function(){this._isDragging=!0,this._dragXStart=-1,this._dragOffset=0}},{key:"_dragMove",value:function(c){this._isDragging&&(-1===this._dragXStart&&(this._dragXStart=c.clientX,this._dragMomentum=0),this._dragMomentum=this._dragMomentum*(2/3)+(c.clientX-this._lastTouchX)/3,this._lastTouchX=c.clientX,this._dragOffset=c.clientX-this._dragXStart)}},{key:"_dragEnd",value:function(){this._isDragging&&(this._dragMomentum<0&&0-this._dragOffset>S&&this._currentIdx<this._slides.length-1?this._currentIdx++:this._dragMomentum>0&&this._dragOffset>S&&this._currentIdx>0&&this._currentIdx--,this._moveSlides(),this._isDragging=!1)}},{key:"_onPopState",value:function(){if(window.location.hash&&window.location.hash.length>0){var d=window.location.hash.slice(1,window.location.hash.length+1),c=this._slugToItem[d];c&&(this._currentIdx=c.idx,this._moveSlides())}}},{key:"_dotClick",value:function(c){this._clickedDot=parseInt(x["default"](c.srcElement).index,10),this._clickedDot!==this._currentIdx&&null!==this._clickedDot&&(this._currentIdx=this._clickedDot,this._hasChanged=!0)}}]),a}();A["default"]=J,O.exports=A["default"]},function(w,D,m){function j(a){return a&&a.__esModule?a:{"default":a}}function E(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(D,"__esModule",{value:!0});var z=function(){function a(f,d){for(var c=0;c<d.length;c++){var h=d[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value" in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),b=m(2),g=m(5),k=j(g),p=m(32),C=j(p),y=m(14),B=m(12),x=".js-tab",q=".js-tab-container",A=function(){function a(e,d){var h=this;if(E(this,a),this._app=e,this._elem=d,this._tabs=k["default"](x,this._elem),this._containers=k["default"](q,this._elem),this._slugToContainer=this._cachesContainerByKey(),this._slugToTab=this._cachesTabByKey(),this._currentTabSlug=null,this._firstLoad=!0,b.bindAll(this,"_attachEvents","_detachEvents","_tabClick","_setTab"),this._tabs.forEach(function(i){i.classList.contains("active")&&(h._currentTabSlug=C["default"](i).slug)}),this._containers.length&&this._tabs.length){this._attachEvents();var c=window.location.hash;if(c&&0===c.indexOf("#")&&(c=c.split("#")[1]),c&&this._slugToContainer[c]){this._setTab(c)}else{var f=C["default"](this._tabs[0]).slug;this._setTab(f)}}this._firstLoad=!1}return z(a,[{key:"tearDown",value:function(){this._detachEvents(),this._elem=null,this._app=null,this._tabs=null,this._containers=null,this._slugToContainer=null,this._slugToTab=null,this._currentTabSlug=null,this._firstLoad=null}},{key:"_cachesContainerByKey",value:function(){return this._containers.reduce(function(f,d){var c=C["default"](d).slug;return f[c]=d,f},{})}},{key:"_cachesTabByKey",value:function(){return this._tabs.reduce(function(f,d){var c=C["default"](d).slug;return f[c]=d,f},{})}},{key:"_attachEvents",value:function(){var c=this;this._areEventsAttached||(this._tabs.forEach(function(d){d.addEventListener("click",c._tabClick)}),this._areEventsAttached=!0)}},{key:"_detachEvents",value:function(){var c=this;this._areEventsAttached&&(this._tabs.forEach(function(d){d.removeEventListener("click",c._tabClick)}),this._areEventsAttached=!1)}},{key:"_tabClick",value:function(d){var c=C["default"](d.target).slug;this._setTab(c)}},{key:"_setTab",value:function(f){var d=this;if(f!==this._currentTabSlug){var c=this._currentTabSlug;if(this._currentTabSlug=f,!c){return void y.set(this._slugToContainer[f],{display:"block"})}this._slugToTab[c].classList.remove("active"),this._slugToTab[f].classList.add("active"),this._firstLoad?(y.set(this._slugToContainer[f],{display:"block"}),y.set(this._slugToContainer[c],{display:"none"})):!function(){window.location.hash=f;var e=d._slugToContainer[c].clientHeight;y.set(d._slugToContainer[c],{autoAlpha:1}),Promise.all([y.to(d._slugToContainer[c],0.3,{autoAlpha:0,ease:Expo.easeOut})]).then(function(){y.set(d._elem,{height:d._elem.clientHeight}),y.set(d._slugToContainer[c],{display:"none"}),y.set(d._slugToContainer[f],{autoAlpha:0,y:B.SLIDE_EFFECT_Y_OFFSET,display:"block"});var h=d._slugToContainer[f].clientHeight;y.set(d._slugToContainer[f],{height:e+"px"}),y.set(d._elem,{height:"auto"}),y.to(d._slugToContainer[f],0.8,{y:0,autoAlpha:1,ease:Expo.easeOut}),Promise.all([y.to(d._slugToContainer[f],0.8,{height:h+"px",ease:Expo.easeOut})]).then(function(){y.set(d._slugToContainer[f],{height:"auto"}),Promise.resolve()}),Promise.resolve()})}()}}}]),a}();D["default"]=A,w.exports=D["default"]},function(P,B,L){function H(a){return a&&a.__esModule?a:{"default":a}}function C(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(B,"__esModule",{value:!0});var T=function(){function a(d,c){for(var b=0;b<c.length;b++){var f=c[b];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}(),D=L(2),G=L(26),J=H(G),M=L(113),z=H(M),R=L(115),U=H(R),Q=L(116),O=H(Q),x=L(5),F=H(x),I=L(103),N=3,A=".js-search-input",j=".js-search-reset",q=".js-search-results",K=new z["default"](),S=function(){function a(c,b,d){C(this,a),this._app=c,this._elem=b,this._page=d,this._areEventsAttached=!1,this._indexLoaded=!1,K.setMinimumSearchLength(N),this._input=new U["default"](this._app,F["default"](A,this._elem)[0],F["default"](j,this._elem)[0]),this._results=new O["default"](this._app,F["default"](q,this._elem)[0]),D.bindAll(this,"_setSearch","_pageReady"),this._attachEvents(),this._loadIndex()}return T(a,[{key:"tearDown",value:function(){this._detachEvents(),this._input.tearDown(),this._input=null,this._results.tearDown(),this._results=null,this._elem=null,this._page=null,this._app=null}},{key:"_attachEvents",value:function(){this._areEventsAttached||(this._input.on(R.SEARCH_CHANGE_EVENT,this._setSearch),this._page.on(I.READY_EVENT,this._pageReady),this._areEventsAttached=!0)}},{key:"_detachEvents",value:function(){this._areEventsAttached&&(this._input.off(R.SEARCH_CHANGE_EVENT,this._setSearch),this._page.off(I.READY_EVENT,this._pageReady),this._areEventsAttached=!1)}},{key:"_loadIndex",value:function(){return regeneratorRuntime.async(function(b){for(;;){switch(b.prev=b.next){case 0:if(!this._indexLoaded){b.next=2;break}return b.abrupt("return");case 2:return this._indexLoaded=!0,b.next=5,K.buildIndexes();case 5:this._initialQuery();case 6:case"end":return b.stop()}}},null,this)}},{key:"_initialQuery",value:function(){if(window.location.search&&window.location.search.length>0){var c=window.location.search.match(/\?(.*)/)[1];if(c&&c[1]){var b=J["default"].parse(c);if(b.q&&b.q.length>0){return void this._setSearch(b.q,!0)}}}this._setSearch(K.query,!0)}},{key:"_pageReady",value:function(){this._input.focus()}},{key:"_setSearch",value:function(c,b){K.runSearch(c),this._results.setOverMinimum(c.length>=N),this._results.setResults(K.results),b&&this._input.setValue(c)}}]),a}();B["default"]=S,P.exports=B["default"]},function(m,w,j){function f(a){return a&&a.__esModule?a:{"default":a}}function x(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(w,"__esModule",{value:!0});var q=function(){function a(l,h){for(var c=0;c<h.length;c++){var o=h[c];o.enumerable=o.enumerable||!1,o.configurable=!0,"value" in o&&(o.writable=!0),Object.defineProperty(l,o.key,o)}}return function(e,c,h){return c&&a(e.prototype,c),h&&a(e,h),e}}(),b=j(114),d=f(b),g=j(2),k=j(25),v="api/search-index.min.json",p=function(){function a(c){x(this,a),this.query="",this.results={},this._hasIndex=!1,this._modelLookup={},this._indexes={},this._minimumSearchLength=0,c&&this.setQuery(c)}return q(a,[{key:"tearDown",value:function(){this.results=null,this._modelLookup=null,this._indexes=null}},{key:"setMinimumSearchLength",value:function(c){this._minimumSearchLength=c}},{key:"buildIndexes",value:function(){var c;return regeneratorRuntime.async(function(e){for(;;){switch(e.prev=e.next){case 0:if(!this._hasIndex){e.next=2;break}return e.abrupt("return");case 2:return this._hasIndex=!0,e.next=5,k.getJSON(""+window.HTTP_PREFIX+v);case 5:c=e.sent,this._modelLookup=g.mapObject(c,this._buildModelLookup),this._indexes=g.mapObject(c,this._hydrateIndex),this._refreshQuery();case 9:case"end":return e.stop()}}},null,this)}},{key:"runSearch",value:function(c){this.query=c,this._hasIndex&&this._executeSearch()}},{key:"_buildModelLookup",value:function(h){var c=h.index.ref;return h.data.reduce(function(o,l){var r=l[c];return o[r]=l,o},{})}},{key:"_hydrateIndex",value:function(c){return d["default"].Index.load(c.index)}},{key:"_refreshQuery",value:function(){this.query.length<=0||this.runSearch(this.query)}},{key:"_executeSearch",value:function(){this.results=g.mapObject(this._indexes,this._searchIndex,this)}},{key:"_searchIndex",value:function(l,h){var c=this;return this.query.length<this._minimumSearchLength?[]:l.search(this.query).map(function(i){var o=c._getModel(h,i.ref);return{model:o,ref:i.ref,score:i.score}})}},{key:"_getModel",value:function(h,c){return this._modelLookup[h][c]}}]),a}();w["default"]=p,m.exports=w["default"]},,function(k,q,g){function d(a){return a&&a.__esModule?a:{"default":a}}function v(h,a){if(!(h instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function a(o,l){for(var h=0;h<l.length;h++){var r=l[h];r.enumerable=r.enumerable||!1,r.configurable=!0,"value" in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(h,e,l){return e&&a(h.prototype,e),l&&a(h,l),h}}(),b=g(2),c=g(7),f=d(c),j="change";q.SEARCH_CHANGE_EVENT=j;var p=function(){function a(h,e,l){v(this,a),this._app=h,this._elem=e,this._reset=l,this._areEventsAttached=!1,this._lastValue=null,b.bindAll(this,"_onChange","_onReset"),this._attachEvents()}return m(a,[{key:"tearDown",value:function(){this._detachEvents(),this.tearDownEventable(),this._elem=null,this._app=null}},{key:"setValue",value:function(h){this._elem.value=h}},{key:"getValue",value:function(){return this._elem.value}},{key:"focus",value:function(){this._elem.focus()}},{key:"_attachEvents",value:function(){this._areEventsAttached||(this._elem.addEventListener("keyup",this._onChange),this._reset.addEventListener("click",this._onReset),this._elem.addEventListener("change",this._onChange),this._areEventsAttached=!0)}},{key:"_detachEvents",value:function(){this._areEventsAttached&&(this._elem.removeEventListener("keyup",this._onChange),this._reset.removeEventListener("click",this._onReset),this._elem.removeEventListener("change",this._onChange),this._areEventsAttached=!1)}},{key:"_onChange",value:function(h){h.stopPropagation(),this._emitValue(),13===h.keyCode&&this._elem.blur()}},{key:"_onReset",value:function(h){h.stopPropagation(),this._elem.value="",this._emitValue()}},{key:"_emitValue",value:function(){this._lastValue!==this._elem.value&&(this.trigger(j,this._elem.value),this._lastValue=this._elem.value)}}]),a}();b.extend(p.prototype,f["default"](j)),q["default"]=p},function(m,w,j){function f(a){return a&&a.__esModule?a:{"default":a}}function x(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(w,"__esModule",{value:!0});var q=function(){function a(l,h){for(var c=0;c<h.length;c++){var o=h[c];o.enumerable=o.enumerable||!1,o.configurable=!0,"value" in o&&(o.writable=!0),Object.defineProperty(l,o.key,o)}}return function(e,c,h){return c&&a(e.prototype,c),h&&a(e,h),e}}(),b=j(2),d=j(24),g=j(5),k=f(g),v=".js-search-results-count",p=function(){function a(e,c){x(this,a),this._app=e,this._elem=c,this._results={},this._resultCount=0,this._resultCountContainer=k["default"](v)[0],this._sortedResults=[],this._isOverMinimum=!1,b.bindAll(this,"_renderRow"),this._render()}return q(a,[{key:"tearDown",value:function(){this._elem=null,this._app=null}},{key:"setOverMinimum",value:function(c){this._isOverMinimum=c}},{key:"setResults",value:function(h){var c=this;this._results=h,this._sortedResults=b.flatten(b.keys(this._results).reduce(function(n,l){return n.push(c._results[l].map(function(i){return i.key=l,"article"===l&&(i.score=2*i.score),"video"===l&&(i.score=1.5*i.score),i})),n},[])).sort(function(l,i){return i.score-l.score}).slice(0,20),this._render()}},{key:"_render",value:function(){return this._isOverMinimum?this._sortedResults.length<=0?(this._elem.innerHTML=this._renderNoResults(),void (this._resultCountContainer.innerHTML="Found 0 results")):(this._resultCountContainer.innerHTML="Found "+this._sortedResults.length+" results",void (this._elem.innerHTML='\n      <div class="g-column g-centered -fixed">\n        <div class="list-wrapper">\n          <ol class="list-view">\n            '+this._sortedResults.map(this._renderRow).join("")+"\n          </ol>\n        </div>\n      </div>\n    ")):(this._elem.innerHTML=this._renderNoSearch(),void (this._resultCountContainer.innerHTML=""))}},{key:"_renderNoResults",value:function(){return'<div class="list-wrapper">\n              <div class="g-column g-centered -fixed">\n                <div class="list-wrapper">\n                  <ol class="list-view">\n                    <li class="list-item">\n                      <div class="list-wrap -is-search">\n                        <div class="list-detail -no-border">\n                          <div class="_title-block">\n                            <h2 class="_title">No results</h2>\n                          </div>\n                        </div>\n                      </div>\n                    </li>\n                  </ol>\n                </div>\n              </div>\n            </div>'}},{key:"_renderNoSearch",value:function(){return'<div class="list-wrapper">\n              <div class="g-column g-centered -fixed">\n                <div class="list-wrapper">\n                  <ol class="list-view">\n                    <li class="list-item">\n                      <div class="list-wrap -is-search">\n                        <div class="list-detail -no-border">\n                          <div class="_title-block">\n                            <h2 class="_title">Enter your search above.</h2>\n                          </div>\n                        </div>\n                      </div>\n                    </li>\n                  </ol>\n                </div>\n              </div>\n            </div>'}},{key:"_renderRow",value:function(r){var l="",h="",u="",o='href="'+d.pathFromSlug(r.key)+r.model.slug+'/"';if(r.model.authors){var c=r.model.authors.map(function(i){return i.name}).join(", ");l='By <span class="_author">'+c+"</span>"}return r.model.externalUrl&&(o='href="'+r.model.externalUrl+'"'),r.model.newWindow&&(o='href="'+r.model.externalUrl+'" target="_blank"',h='<svg width="16" height="17" viewBox="0 0 16 17" xmlns="http://www.w3.org/2000/svg"><path class="_fill-color" d="M14 14.04H2V2.005h4V0H2C.83 0 0 .833 0 2.006V14.04c0 1.17.83 2.005 2 2.005h12c1.168 0 2-.835 2-2.006v-4.02h-2v4.01zM9 2.005h3.51l-7.998 8.022L6 11.52l8-8.023V7.02h2V0H9v2.006z" fill-rule="evenodd" opacity=".54"/></svg>'),r.model.description&&r.model.description.length>0&&(u='<p class="_summary">'+r.model.description+"</p>"),'\n      <li class="list-item">\n        <div class="list-wrap -is-search">\n          <div class="list-detail -no-border">\n            <div class="_title-block">\n              <a class="_search-link" '+o+'>\n                <h2 class="_title">'+r.model.title+'</h2>\n                <span class="_arrow">\n                  '+h+'\n                </span>\n              </a>\n            </div>\n            <p class="_byline">'+l+"</p>\n            "+u+"\n          </div>\n        </div>\n      </li>\n    "}}]),a}();w["default"]=p,m.exports=w["default"]},function(K,w,G){function C(a){return a&&a.__esModule?a:{"default":a}}function x(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(w,"__esModule",{value:!0});var N=function(){function a(f,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),z=G(118),B=G(2),F=G(5),H=C(F),k=G(32),M=C(k),O=G(100),L=C(O),J=G(120),j=C(J),A=G(12),D=Math.abs,I=".js-wave-layer",q="wave",b=function(){function a(e,d){if(x(this,a),this._app=e,this._elem=d,this._eventDelegate=new z.Delegate(this._elem),this._wave=null,this._areEventsAttached=!1,this._hoverAnimation=null,this._isDepressed=!1,this._startingScrollY=0,B.bindAll(this,"_onMouseDown","_onMouseUp","_onTouchStart","_onTouchMove","_onTouchEnd","_onOut","_onScroll"),this._cardIsTouchTarget()){var f=H["default"](I,this._elem)[0];f&&(this._wave=new L["default"](this._app,f),this._wave.append())}if("mobile"!==this._app.currentBreakpoint()){var c=H["default"](A.HOVER_ANIMATION_SELECTOR,this._elem)[0];c&&(this._hoverAnimation=new j["default"](this._app,c,this._eventDelegate))}this._attachEvents()}return N(a,[{key:"tearDown",value:function(){this._detachEvents(),this._hoverAnimation&&(this._hoverAnimation.tearDown(),this._hoverAnimation=null),this._eventDelegate.destroy(),this._eventDelegate=null,this._wave&&(this._wave.tearDown(),this._wave=null),this._elem=null,this._app=null}},{key:"_attachEvents",value:function(){this._areEventsAttached||(this._wave&&(this._eventDelegate.on("mousedown",this._onMouseDown),this._eventDelegate.on("mouseup",this._onMouseUp),this._eventDelegate.on("touchstart",this._onTouchStart),this._eventDelegate.on("touchmove",this._onTouchMove),this._eventDelegate.on("touchend",this._onTouchEnd),this._elem.addEventListener("mouseout",this._onOut),this._app.onScroll(this._onScroll,!0)),this._areEventsAttached=!0)}},{key:"_detachEvents",value:function(){this._areEventsAttached&&(this._wave&&(this._eventDelegate.off("mousedown",this._onMouseDown),this._eventDelegate.off("mouseup",this._onMouseUp),this._eventDelegate.off("touchstart",this._onTouchStart),this._eventDelegate.off("touchmove",this._onTouchMove),this._eventDelegate.off("touchend",this._onTouchEnd),this._elem.removeEventListener("mouseout",this._onOut),this._app.offScroll(this._onScroll,!0)),this._areEventsAttached=!1)}},{key:"_cardIsTouchTarget",value:function(){var c=M["default"](this._elem)[q];return null!=c}},{key:"_onMouseDown",value:function(f){if(!this._isDepressed&&!f.metaKey&&!f.ctrlKey){var d=this._positionForEvent(f),c=d.x,g=d.y;this._beginWave(c,g),this._isDepressed=!0}}},{key:"_onMouseUp",value:function(){this._isDepressed&&(this._emitWave(),this._isDepressed=!1)}},{key:"_onTouchStart",value:function(g){var d=this;if(!this._isDepressed){this._startingScrollY=this._app.currentScroll(),this._isDepressed=!0;var c=this._positionForEvent(g),h=c.x,f=c.y;setTimeout(function(){d._isDepressed&&d._beginWave(h,f)},150)}}},{key:"_onTouchMove",value:function(f){if(this._isDepressed){var d=this._positionForEvent(f),c=d.x,g=d.y;this._wave&&this._wave.setPosition(c,g)}}},{key:"_onTouchEnd",value:function(f){if(this._isDepressed){if(!this._wave.isMouseDown){var d=this._positionForEvent(f),c=d.x,g=d.y;this._beginWave(c,g)}this._emitWave(),this._isDepressed=!1}}},{key:"_beginWave",value:function(d,c){this._wave.onDown(d,c)}},{key:"_emitWave",value:function(){this._app.startWaveAnimation(this._wave.onUp())}},{key:"_onScroll",value:function(d){if(this._isDepressed){var c=D(d-this._startingScrollY);10>=c||(this._isDepressed=!1,this._wave.isMouseDown&&this._wave.cancel())}}},{key:"_onOut",value:function(){this._isDepressed=!1,this._wave.isMouseDown&&this._wave.cancel()}},{key:"_positionForEvent",value:function(l){var f=void 0,d=void 0,p=l.changedTouches||l.targetTouches;if(p&&p[0]){f=p[0].pageX,d=p[0].pageY;var g=l.currentTarget.getBoundingClientRect(),c=g.top+document.body.scrollTop,h=g.left+document.body.scrollLeft;f-=h,d-=c}else{f=l.offsetX||l.layerX,d=l.offsetY||l.layerY;var g=l.target.getBoundingClientRect(),m=this._elem.getBoundingClientRect();f+=g.left-m.left,d+=g.top-m.top}return{x:f,y:d}}}]),a}();w["default"]=b,K.exports=w["default"]},,,function(k,q,g){function d(a){return a&&a.__esModule?a:{"default":a}}function v(h,a){if(!(h instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(q,"__esModule",{value:!0});var m=function(){function a(o,l){for(var h=0;h<l.length;h++){var r=l[h];r.enumerable=r.enumerable||!1,r.configurable=!0,"value" in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(h,e,l){return e&&a(h.prototype,e),l&&a(h,l),h}}(),b=g(2),c=g(14),f=g(32),j=d(f),p=function(){function a(l,h,o,e){v(this,a),this._app=l,this._elem=h,this._videoURL=j["default"](this._elem).src,this._areEventsAttached=!1,this._hasLoaded=!1,this._isPlaying=!1,this._eventDelegate=o,this._disabledVideo=navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i),this._video=document.createElement("video"),this._video.style.width="100%",this._video.style.height="100%",this._video.preload="none",this._video.loop=!1,this._autoplay=e||!1,this._video.controls=!1,this._disabledVideo||(c.set(this._video,{autoAlpha:0}),this._elem.appendChild(this._video),b.bindAll(this,"_scrolledIntoFrame","_mouseEnter","_mouseLeave","_handleVideoEnd"),this._attachEvents())}return m(a,[{key:"tearDown",value:function(){this._detachEvents(),this._video=null,this._elem=null,this._app=null}},{key:"play",value:function(){this._hasLoaded&&(this._isPlaying||(this._video.play(),this._isPlaying=!0))}},{key:"pause",value:function(){this._hasLoaded&&this._isPlaying&&(this._isPlaying=!1)}},{key:"_mouseEnter",value:function(){this._hasLoaded&&(this._loop=!0,this.play())}},{key:"_mouseLeave",value:function(){this._hasLoaded&&(this._loop=!1,this.pause())}},{key:"_attachEvents",value:function(){this._areEventsAttached||(this._app.trackElement(this._elem,this._scrolledIntoFrame),this._eventDelegate.on("mouseenter",this._mouseEnter),this._eventDelegate.on("mouseleave",this._mouseLeave),this._video.addEventListener("ended",this._handleVideoEnd),this._areEventsAttached=!0)}},{key:"_handleVideoEnd",value:function(){(this._autoplay||this._loop)&&(this._app.isVisible(this._video)?this._video.play():(this._video.pause(),this._app.trackElement(this._elem,this._scrolledIntoFrame)))}},{key:"_detachEvents",value:function(){this._areEventsAttached&&(this._app.untrackElement(this._elem),this._eventDelegate.off("mouseover",this._mouseEnter),this._eventDelegate.off("mouseout",this._mouseLeave),this._video.removeEventListener("ended",this._handleVideoEnd),this._areEventsAttached=!1)}},{key:"_scrolledIntoFrame",value:function(){var n=this,l=function h(){4===n._video.readyState?(n._autoplay||n._video.pause(),c.to(n._video,0.4,{autoAlpha:1}),n._hasLoaded=!0):setTimeout(h,200)};4!==this._video.readyState&&(this._video.src=this._videoURL,this._video.load()),this._video.play(),l()}}]),a}();q["default"]=p,k.exports=q["default"]},function(k,p,g){function d(a){return a&&a.__esModule?a:{"default":a}}function q(h,a){if(!(h instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(p,"__esModule",{value:!0});var m=function(){function a(o,l){for(var h=0;h<l.length;h++){var r=l[h];r.enumerable=r.enumerable||!1,r.configurable=!0,"value" in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(h,e,l){return e&&a(h.prototype,e),l&&a(h,l),h}}(),b=g(2),c=g(122),f=d(c),j=function(){function a(h,e){var l=this;q(this,a),this._app=h,this._elem=e,this._typeout=new f["default"](this._app,this._elem),this._scrolledIntoFrame=b.debounce(this._scrolledIntoFrame.bind(this),750),setTimeout(function(){l._attachEvents()},1000)}return m(a,[{key:"tearDown",value:function(){this._detachEvents(),this._typeout.tearDown(),this._typeout=null,this._elem=null,this._app=null}},{key:"_attachEvents",value:function(){this._areEventsAttached||(this._app.trackElement(this._elem,this._scrolledIntoFrame),this._areEventsAttached=!0)}},{key:"_detachEvents",value:function(){this._areEventsAttached&&(this._app.untrackElement(this._elem),this._areEventsAttached=!1)}},{key:"_scrolledIntoFrame",value:function(){this._areEventsAttached&&this._typeout.runSequence()}}]),a}();p["default"]=j,k.exports=p["default"]},function(v,B,m){function j(a){return a&&a.__esModule?a:{"default":a}}function C(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(B,"__esModule",{value:!0});var y=function(){function a(f,d){for(var c=0;c<d.length;c++){var h=d[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value" in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),b=m(2),g=m(5),k=j(g),p=m(4),A=j(p),x=m(14),z=".js-char",w=".js-dotted",q=function(){function a(d,c){var e=void 0===arguments[2]?32:arguments[2];C(this,a),this._app=d,this._elem=c,this._characterTime=e,this._dottedContainers=k["default"](w,this._elem),this._characters=k["default"](z,this._elem),this._offsets=null,this._isRevealed=!1,this._fakeDots=null,b.bindAll(this,"_onResize"),x.set(this._characters,{opacity:0}),this._createFakeDots(),this._calculateOffsets(),this._attachEvents()}return y(a,[{key:"tearDown",value:function(){this._detachEvents(),this._characters=null,this._offsets=null,this._fakeDots.forEach(function(c){c.parentNode.removeChild(c)}),this._fakeDots=null,this._dottedContainers=null,this._elem=null,this._app=null}},{key:"_attachEvents",value:function(){this._areEventsAttached||(this._app.onResize(this._onResize),this._areEventsAttached=!0)}},{key:"_detachEvents",value:function(){this._areEventsAttached&&(this._app.offResize(this._onResize),this._areEventsAttached=!1)}},{key:"_createFakeDots",value:function(){this._fakeDots=this._dottedContainers.map(function(d){var c=document.createElement("span");return c.classList.add("fakedot"),x.set(c,{opacity:0}),d.appendChild(c),c})}},{key:"_onResize",value:function(){this._isRevealed||this._calculateOffsets()}},{key:"_calculateOffset",value:function(f){var d=f.getBoundingClientRect(),c={top:d.top,left:d.left,width:d.width,height:d.height};if(f.offsetParent){var h=f.offsetParent.getBoundingClientRect();c.top=c.top-h.top,c.left=c.left-h.left}return c}},{key:"_calculateOffsets",value:function(){var c=this;this._offsets=this._characters.map(function(d){return c._calculateOffset(d)})}},{key:"runSequence",value:function(){var h,d,c,l,f;return regeneratorRuntime.async(function(e){for(;;){switch(e.prev=e.next){case 0:h=0,d=0,x.set(this._fakeDots[d],{opacity:1});case 3:if(!(this._characters&&h<this._characters.length)){e.next=16;break}return c=this._characters[h],l=this._dottedContainers.indexOf(c.parentNode),d!==l&&(x.set(this._fakeDots[d],{opacity:0}),x.set(this._fakeDots[l],{opacity:1}),d=l),c.classList.contains("-last")||c.classList.contains("_return")||c.classList.contains("_hash")?x.set(this._fakeDots[d],{opacity:0}):x.set(this._fakeDots[d],{opacity:1}),f=this._calculateOffset(c),x.set(this._fakeDots[d],{x:f.left+f.width,y:f.top}),x.set(c,{opacity:1}),e.next=13,A["default"](this._characterTime);case 13:h++,e.next=3;break;case 16:return this._fakeDots&&x.set(this._fakeDots[d],{opacity:0}),this._isRevealed=!0,e.abrupt("return",!0);case 19:case"end":return e.stop()}}},null,this)}}]),a}();B["default"]=q,v.exports=B["default"]},function(G,k,C){function z(a){return a&&a.__esModule?a:{"default":a}}function q(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(k,"__esModule",{value:!0});var J=function(){function a(f,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),w=C(2),y=C(14),B=C(5),D=z(B),j=C(32),I=z(j),K=C(124),H=z(K),F=".js-video-trigger",b=".js-video-poster",x=".js-video-target",A=0.3,E=function(){function a(d,c){q(this,a),this._app=d,this._elem=c,this._triggerElements=D["default"](F,this._elem),this._elem.classList.contains(F.replace(/^\./,""))&&this._triggerElements.push(this._elem),this._areEventsAttached=!1,this._isVideoLoaded=!1,this._youTubeApi=null,w.bindAll(this,"_onClick"),this._attachEvents(),window.history.state&&window.history.state.siteReferral&&this._playVideo()}return J(a,[{key:"tearDown",value:function(){if(this._detachEvents(),this._triggerElements=null,this._loadingTimeout&&(clearTimeout(this._loadingTimeout),this._loadingTimeout=null),this._player){try{this._player.stopVideo(),this._player.destroy()}catch(c){}this._player=null}this._isVideoLoaded=!1,this._elem=null,this._app=null}},{key:"_attachEvents",value:function(){var c=this;this._areEventsAttached||(this._triggerElements.forEach(function(d){d.addEventListener("click",c._onClick)}),this._areEventsAttached=!0)}},{key:"_detachEvents",value:function(){var c=this;this._areEventsAttached&&(this._youTubeApi=null,this._triggerElements.forEach(function(d){d.removeEventListener("click",c._onClick)}),this._areEventsAttached=!1)}},{key:"_onClick",value:function(c){return regeneratorRuntime.async(function(d){for(;;){switch(d.prev=d.next){case 0:c.stopPropagation(),this._playVideo();case 2:case"end":return d.stop()}}},null,this)}},{key:"_prepareYouTubePlayer",value:function(){return regeneratorRuntime.async(function(d){for(var c=this;;){switch(d.prev=d.next){case 0:if(!this._isVideoLoaded){d.next=2;break}return d.abrupt("return",Promise.resolve());case 2:return d.abrupt("return",new Promise(function(g){if(c._videoId=I["default"](c._elem).videoId,!c._videoId||c._videoId.length<=0){throw new Error("Missing data-video-id")}if(c._videoContainer=D["default"](x,c._elem)[0],!c._videoContainer){throw new Error("Missing video container: "+x)}var f=function(){c._isVideoLoaded=!0,setTimeout(g,200)},h=function(e){e.data===YT.PlayerState.ENDED&&(c._fadeInScrim(),g())};c._player=new window.YT.Player(c._videoContainer,{videoId:c._videoId,playerVars:{showinfo:0,rel:0,autoplay:1},events:{onReady:f,onStateChange:h}})}));case 3:case"end":return d.stop()}}},null,this)}},{key:"_fadeInScrim",value:function(){return regeneratorRuntime.async(function(c){for(;;){switch(c.prev=c.next){case 0:return c.abrupt("return",y.to(b,A,{autoAlpha:1}));case 1:case"end":return c.stop()}}},null,this)}},{key:"_fadeOutScrim",value:function(){return regeneratorRuntime.async(function(c){for(;;){switch(c.prev=c.next){case 0:return c.abrupt("return",y.to(b,A,{autoAlpha:0}));case 1:case"end":return c.stop()}}},null,this)}},{key:"_playVideo",value:function(){if(this._youTubeApi){return this._player.playVideo(),void this._fadeOutScrim()}var c=this;this._youTubeApi=H["default"]().then(function(){return c._prepareYouTubePlayer().then(function(){c._fadeOutScrim()})})}}]),a}();k["default"]=E,G.exports=k["default"]},function(c,b){function a(){return window.YT?(d="loaded",Promise.resolve()):"loaded"===d?Promise.resolve():(d="loading",setTimeout(function(){"loaded"!==d&&(d="unloaded")},60000),new Promise(function(h){window.onYouTubeIframeAPIReady=function(){d="loaded",h()};var g=document.createElement("script");g.src="https://www.youtube.com/iframe_api";var f=document.querySelector("script");f.parentNode.insertBefore(g,f)}))}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=a;var d="unloaded";c.exports=b["default"]},function(v,B,m){function j(a){return a&&a.__esModule?a:{"default":a}}function C(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(B,"__esModule",{value:!0});var y=function(){function a(f,d){for(var c=0;c<d.length;c++){var h=d[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value" in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),b=m(2),g=m(32),k=j(g),p=m(5),A=j(p),x=".js-article-video",z="-is-playing",w=new Map(),q=function(){function a(d,c){C(this,a),this._app=d,this._elem=c,this._triggerElements=A["default"](x,this._elem),this._scrollAutoplay="true"===k["default"](this._elem.children[0]).scrollAutoplay?!0:!1,this._elem.classList.contains(x.replace(/^\./,""))&&this._triggerElements.push(this._elem),this._areEventsAttached=!1,b.bindAll(this,"_onClick","_displayOverlay","_scrolledIntoView","_setStartFrame"),this._attachEvents(),this._scrollAutoplay&&this._elem.classList.add(z)}return y(a,[{key:"tearDown",value:function(){this._detachEvents(),this._triggerElements=null,this._elem=null,this._app=null}},{key:"_attachEvents",value:function(){var c=this;this._areEventsAttached||(navigator.userAgent.match(/Android/i)&&this._triggerElements.forEach(function(d){d.classList.add("-is-android"),d.children[0].setAttribute("controls","")}),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i))&&this._triggerElements.forEach(function(d){d.classList.add("-is-ios")}),this._triggerElements.forEach(function(d){d.addEventListener("click",c._onClick),d.children[0].addEventListener("ended",c._displayOverlay),c._scrollAutoplay&&d.children[0].addEventListener("loadeddata",c._setStartFrame),c._app.trackElement(d.children[0],c._scrolledIntoView,-300)}),this._areEventsAttached=!0)}},{key:"_setStartFrame",value:function(){this._scrollAutoplay&&(this._elem.children[0].currentTime=0.02)}},{key:"_scrolledIntoView",value:function(){this._scrollAutoplay&&this._playVideo(this._elem)}},{key:"_detachEvents",value:function(){var c=this;this._areEventsAttached&&(navigator.userAgent.match(/Android/i)&&this._triggerElements.forEach(function(d){d.classList.remove("-is-android"),d.children[0].removeAttribute("controls")}),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i))&&this._triggerElements.forEach(function(d){d.classList.remove("-is-ios")}),this._triggerElements.forEach(function(d){d.removeEventListener("click",c._onClick),d.children[0].removeEventListener("ended",c._displayOverlay),d.children[0].removeEventListener("loadeddata",c._setStartFrame)}),this._areEventsAttached=!1)}},{key:"_displayOverlay",value:function(c){return regeneratorRuntime.async(function(d){for(;;){switch(d.prev=d.next){case 0:c.stopPropagation(),this._pauseVideo(this._elem);case 2:case"end":return d.stop()}}},null,this)}},{key:"_onClick",value:function(c){return regeneratorRuntime.async(function(d){for(;;){switch(d.prev=d.next){case 0:c.stopPropagation(),this._elem.children[0].paused?this._playVideo(this._elem):this._pauseVideo(this._elem);case 2:case"end":return d.stop()}}},null,this)}},{key:"_playVideo",value:function(d){var c=this;d.children[0].play(),w.set(d,d),d.classList.add(z),w.forEach(function(f){c._app.isVisible(f)||c._pauseVideo(f)})}},{key:"_pauseVideo",value:function(c){c.children[0].pause(),w.set(c,c),c.classList.remove(z)}}]),a}();B["default"]=q,v.exports=B["default"]},function(y,F,q){function k(a){return a&&a.__esModule?a:{"default":a}}function G(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(F,"__esModule",{value:!0});var B=function(){function a(f,d){for(var c=0;c<d.length;c++){var h=d[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value" in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),b=q(2),j=q(5),m=k(j),w=q(32),E=k(w),A=q(124),D=k(A),z=".js-article-yt-video",x=".js-article-yt-video-target",C="hd720",g=function(){function a(d,c){G(this,a),this._app=d,this._elem=c,this._youTubeApi=null,this._player=null,this._isVideoLoaded=!1,this._triggerElements=m["default"](z,this._elem),this._elem.classList.contains(z.replace(/^\./,""))&&this._triggerElements.push(this._elem),this._areEventsAttached=!1,b.bindAll(this,"_onClick"),this._attachEvents()}return B(a,[{key:"tearDown",value:function(){if(this._detachEvents(),this._triggerElements=null,this._isVideoLoaded=!1,this._youTubeApi=null,this._player){try{this._player.stopVideo(),this._player.destroy()}catch(c){}this._player=null}this._elem=null,this._app=null}},{key:"_attachEvents",value:function(){var c=this;this._areEventsAttached||(navigator.userAgent.match(/Android/i)&&this._triggerElements.forEach(function(d){d.classList.add("-is-android")}),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i))&&this._triggerElements.forEach(function(d){d.classList.add("-is-ios")}),this._triggerElements.forEach(function(d){d.addEventListener("click",c._onClick)}),this._areEventsAttached=!0)}},{key:"_detachEvents",value:function(){var c=this;this._areEventsAttached&&(navigator.userAgent.match(/Android/i)&&this._triggerElements.forEach(function(d){d.classList.remove("-is-android")}),(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i))&&this._triggerElements.forEach(function(d){d.classList.remove("-is-ios")}),this._triggerElements.forEach(function(d){d.removeEventListener("click",c._onClick)}),this._areEventsAttached=!1)}},{key:"_onClick",value:function(d){var c;return regeneratorRuntime.async(function(e){for(;;){switch(e.prev=e.next){case 0:if(d.stopPropagation(),!this._youTubeApi){e.next=3;break}return e.abrupt("return");case 3:c=this,this._youTubeApi=D["default"]().then(function(){return c._prepareYouTubePlayer().then(function(){c._playVideo()})});case 5:case"end":return e.stop()}}},null,this)}},{key:"_prepareYouTubePlayer",value:function(){return regeneratorRuntime.async(function(d){for(var c=this;;){switch(d.prev=d.next){case 0:if(!this._isVideoLoaded){d.next=2;break}return d.abrupt("return",Promise.resolve());case 2:return d.abrupt("return",new Promise(function(h){if(c._videoId=E["default"](c._elem).videoId,!c._videoId||c._videoId.length<=0){throw new Error("Missing data-video-id")}if(c._videoContainer=m["default"](x,c._elem)[0],!c._videoContainer){throw new Error("Missing video container: "+x)}var f=function(e){c._isVideoLoaded=!0,e.target.setPlaybackQuality(C),setTimeout(h,200)},l=function(e){e.data===YT.PlayerState.BUFFERING&&e.target.setPlaybackQuality(C),e.data===YT.PlayerState.ENDED&&h()};c._player=new window.YT.Player(c._videoContainer,{videoId:c._videoId,playerVars:{showinfo:0,rel:0,controls:1,autohide:1,autoplay:1,suggestedQuality:C},events:{onReady:f,onStateChange:l}})}));case 3:case"end":return d.stop()}}},null,this)}},{key:"_playVideo",value:function(){this._player.playVideo();var c=this._elem.querySelector(x);c.classList.add("playing")}}]),a}();F["default"]=g,y.exports=F["default"]},function(O,A,K){function G(a){return a&&a.__esModule?a:{"default":a}}function B(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(A,"__esModule",{value:!0});var R=function(){function a(f,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(d,c,e){return c&&a(d.prototype,c),e&&a(d,e),d}}(),C=K(107),F=G(C),I=K(2),L=K(5),x=G(L),Q=K(99),S=G(Q),P=K(12),N=K(14),q=".js-wave-layer",D=".js-share-fab-content",H=".js-share-fab-toggle",M=".js-share-fab-text",z=".js-share-fab-parent",b=0.4,j=0.1,J=function(){function a(d,c){var e=this;B(this,a),this._app=d,this._elem=c,this._dimensions={w:1,h:1},this._waveLayer=x["default"](q,this._elem)[0],this._wave=null,this._elemSize=this._elem.offsetWidth,this._toggle=x["default"](H,this._elem)[0],this._content=x["default"](D,this._elem)[0],this._links=x["default"]("a",this._elem),this._parentContainer=S["default"](this._elem,z),this._buttonText=x["default"](M,this._elem)[0],this._coords=this._setCoords(),this._areEventsAttached=!1,this._FABIsActive=!1,this._isHidden=!1,this._isLocked=!1,this._FABIsAnimating=!1,I.bindAll(this,"_onResize","_onClick","_resetAnimationState","_setFABPosition","_setCoords"),this._toggle.setAttribute("aria-expanded","false"),this._disableLinks(),this._attachEvents(),this._onResize(),setTimeout(function(){return e._onResize()},2000)}return R(a,[{key:"tearDown",value:function(){this._detachEvents(),this._wave&&(this._wave.detach(),this._wave=null),this._elem=null,this._toggle=null,this._content=null}},{key:"_attachEvents",value:function(){this._areEventsAttached||(this._toggle.addEventListener("click",this._onClick),this._app.onResize(this._onResize),this._app.onScroll(this._setFABPosition),this._areEventsAttached=!0)}},{key:"_detachEvents",value:function(){this._areEventsAttached&&(this._toggle.removeEventListener("click",this._onClick),this._app.offResize(this._onResize),this._app.offScroll(this._setFABPosition),this._areEventsAttached=!1)}},{key:"_onClick",value:function(g){if(!g.metaKey&&!g.ctrlKey){if(g.preventDefault(),g.stopPropagation(),this._wave&&!this._FABIsActive){var d=this._positionForEvent(g),c=d.x,h=d.y,f=this._wave.containerRect.w-this._dimensions.w;this._wave.activate(c+f,h,"rgba(0, 0, 0, 0.4)",!1,b)}this._setFABState()}}},{key:"_positionForEvent",value:function(f){for(var d=f.offsetX||f.layerX,c=f.offsetY||f.layerY,g=f.target;g!==this._elem;){if(!g){throw new Error("Recursive parent check ended at null (window?)")}d+=g.offsetLeft,c+=g.offsetTop,g=g.offsetParent}return{x:d,y:c}}},{key:"_onResize",value:function(){if(this._areEventsAttached){if(this._wave){var f=this._content.getBoundingClientRect(),d=f.width,c=f.height;this._waveLayer.style.width=""+d+"px",this._waveLayer.style.height=""+c+"px"}if(this._FABIsActive){this._closeFAB()}else{var g=this._elem.getBoundingClientRect(),d=g.width,c=g.height;this._dimensions.w=d,this._dimensions.h=c}this._elem.style.width="",this._elem.style.height="",this._elemSize=this._elem.offsetWidth,this._coords=this._setCoords(),this._setFABPosition()}}},{key:"_setFABState",value:function(){this._FABIsActive?this._closeFAB():this._openFAB()}},{key:"_setCoords",value:function(){var c=this._parentContainer.getBoundingClientRect().top+this._app.currentScroll();return{top:c,right:0.5*(window.innerWidth-this._parentContainer.offsetWidth),bottom:c+this._parentContainer.offsetHeight}}},{key:"_setFABPosition",value:function(){return this._coords.top===this._coords.bottom?void ((this._isHidden||this._isLocked)&&this._fixToTop()):(this._app.currentScroll()>this._coords.top-3*this._elemSize&&(this._isLocked||this._fixToBottom(),this._app.currentScroll()>this._coords.bottom-3*this._elemSize?this._isHidden||this._shrinkFAB():this._isLocked&&this._growFAB()),void (this._app.currentScroll()<this._coords.top-3*this._elemSize&&(this._isHidden||this._isLocked)&&this._fixToTop()))}},{key:"_shrinkFAB",value:function(){var c=this;this._FABIsActive&&this._closeFAB(),N.to(this._elem,b,{scale:0,ease:Expo.easeOut,onComplete:function(){c._isHidden=!0}})}},{key:"_growFAB",value:function(){var c=this;this._FABIsActive&&this._closeFAB(),N.to(this._elem,b,{scale:1,ease:Expo.easeOut,onComplete:function(){c._isHidden=!1}})}},{key:"_fixToBottom",value:function(){var c=this;this._shrinkFAB(),N.set(this._elem,{css:{position:"",x:0,bottom:-(0.5*this._elemSize),top:"auto"},delay:2*b,onComplete:function(){c._growFAB(),c._isLocked=!0}})}},{key:"_fixToTop",value:function(){var c=this;this._shrinkFAB(),N.set(this._elem,{css:{position:"",x:0,bottom:"",top:""},delay:2*b,onComplete:function(){c._growFAB(),c._isLocked=!1}})}},{key:"_resetAnimationState",value:function(){var c=this;setTimeout(function(){c._FABIsAnimating=!1},200*b)}},{key:"_disableLinks",value:function(){this._links.forEach(function(c){c.setAttribute("tabindex","-1")})}},{key:"_enableLinks",value:function(){this._links.forEach(function(c){c.removeAttribute("tabindex")})}},{key:"_openFAB",value:function(){var c=this;this._FABIsAnimating||(this._FABIsAnimating=!0,this._FABIsActive=!0,F["default"].write(function(){c._elem.classList.add(P.STATE_ACTIVE,c._FABIsActive),c._toggle.setAttribute("aria-expanded","true"),c._content.setAttribute("aria-hidden","false"),c._enableLinks(),N.to(c._elem,b,{width:c._content.offsetWidth,height:c._content.offsetHeight,ease:Expo.easeOut}),N.to(c._content,b,{autoAlpha:1,ease:Expo.easeOut,delay:2*j}).then(c._resetAnimationState)}))}},{key:"_closeFAB",value:function(){var c=this;this._FABIsAnimating||(this._FABIsAnimating=!0,this._FABIsActive=!1,F["default"].write(function(){c._elem.classList.remove(P.STATE_ACTIVE,c._FABIsActive),c._toggle.setAttribute("aria-expanded","false"),c._content.setAttribute("aria-hidden","true"),c._disableLinks(),N.to(c._elem,b,{width:c._elemSize,height:c._elemSize,ease:Expo.easeOut,onComplete:c._resetAnimationState()}),N.to(c._content,b*j,{opacity:0,ease:Expo.easeOut})}))}}]),a}();A["default"]=J,O.exports=A["default"]}]);